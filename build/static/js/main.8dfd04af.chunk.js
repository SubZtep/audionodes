(this.webpackJsonpsynth=this.webpackJsonpsynth||[]).push([[0],{34:function(e,n,t){e.exports=t(44)},44:function(e,n,t){"use strict";t.r(n);var r=t(4),c=t(0),o=t.n(c),a=t(10),u=t.n(a),i=t(11),l=t(13),d=Object(l.b)({name:"sounds",initialState:[],reducers:{addSound:function(e,n){var t=n.payload,r=t.name,c=t.description;e.push({name:r,description:c})}}}),s=(d.actions.addSound,d.reducer),f=Object(l.b)({name:"ux",initialState:{menu:!1},reducers:{toggleMenu:function(e){e.menu=!e.menu}}}),b=function(e){return e.ux.menu},p=f.actions.toggleMenu,g=f.reducer,O=Object(l.a)({reducer:{sounds:s,ux:g}}),j=t(1),m=t(3),v=t(6);function h(){var e=Object(r.a)(['\n  height: max-content;\n  display: grid;\n  grid-template-columns: auto 40%;\n  grid-template-rows: auto;\n  grid-template-areas:\n    "audionodes visual"\n    "audionodes piano";\n\n  > :nth-of-type(1) {\n    grid-area: audionodes;\n  }\n  > :nth-of-type(2) {\n    grid-area: visual;\n  }\n  > :nth-of-type(3) {\n    grid-area: piano;\n  }\n']);return h=function(){return e},e}var y=v.a.div(h()),x=t(19),k=t(5),w=t(12),E=new(window.AudioContext||window.webkitAudioContext),A=E.currentTime,S=(E.destination,new Map),T=function(e,n,t,r){var o=Object(c.useState)(!1),a=Object(k.a)(o,2),u=a[0],i=a[1];return Object(c.useEffect)((function(){var n=E.createOscillator();n.start(),S.set(e,n),i(!0)}),[e]),Object(c.useEffect)((function(){S.get(e).frequency.setValueAtTime(n,A)}),[e,n]),Object(c.useEffect)((function(){S.get(e).detune.setValueAtTime(t,A)}),[e,t]),Object(c.useEffect)((function(){S.get(e).type=r}),[e,r]),{ready:u}};function N(){var e=Object(r.a)(["\n  margin: 10px 0 6px 0;\n  border: 0;\n  border-bottom: 2px ridge #212d40;\n"]);return N=function(){return e},e}function C(){var e=Object(r.a)(['\n  display: block;\n  font-size: 0.8rem;\n  text-transform: capitalize;\n  input[type="number"] {\n    display: block;\n    margin-top: 2px;\n    background-color: rgba(255, 255, 255, 0.7);\n    border-width: 1px;\n    padding: 1px 0 1px 4px;\n  }\n  > :not(:last-child) {\n    margin-bottom: 12px;\n  }\n']);return C=function(){return e},e}function B(){var e=Object(r.a)(["\n  padding: 8px;\n  margin: 8px 0;\n  background-color: #364156;\n  cursor: default;\n"]);return B=function(){return e},e}function F(){var e=Object(r.a)(["\n  text-align: center;\n"]);return F=function(){return e},e}var q=v.a.div(F()),z=v.a.div(B()),_=v.a.label(C()),M=v.a.hr(N()),G=["sine","square","sawtooth","triangle"],V=Object(c.memo)((function(e){var n=e.id,t=Object(c.useState)(440),r=Object(k.a)(t,2),o=r[0],a=r[1],u=Object(c.useState)(0),i=Object(k.a)(u,2),l=i[0],d=i[1],s=Object(c.useState)(G[0]),f=Object(k.a)(s,2),b=f[0],p=f[1],g=T(n,o,l,b).ready;return Object(j.d)(c.Fragment,null,Object(j.d)(q,null,"Oscillator #",n),Object(j.d)(z,null,Object(j.d)(_,null,"Frequency (-24k \u2014 24k)",Object(j.d)("input",{disabled:!g,type:"number",min:"-24000",max:"24000",value:o,onChange:function(e){return a(e.currentTarget.valueAsNumber)}})),Object(j.d)(M,null),Object(j.d)(_,null,"Detune (-10k \u2014 10k)",Object(j.d)("input",{className:"detune",type:"number",min:-1e4,max:1e4,value:l,onChange:function(e){return d(e.currentTarget.valueAsNumber)}})),Object(j.d)(M,null),Object(j.d)(_,null,"Type"),G.map((function(e){return Object(j.d)(_,{key:e},Object(j.d)("input",{type:"radio",value:e,checked:b===e,onChange:function(e){return p(e.currentTarget.value)}}),e)}))),Object(j.d)(m.d,{type:"source",position:m.e.Bottom,style:{background:"#B0BF1A"}}))})),L=function(e,n){var t=Object(c.useState)(!1),r=Object(k.a)(t,2),o=r[0],a=r[1];return Object(c.useEffect)((function(){S.set(e,E.createGain()),a(!0)}),[e]),Object(c.useEffect)((function(){S.get(e).gain.setValueAtTime(n,A)}),[e,n]),{ready:o}},I=Object(c.memo)((function(e){var n=e.id,t=Object(c.useState)(1),r=Object(k.a)(t,2),o=r[0],a=r[1],u=L(n,o).ready;return Object(j.d)(c.Fragment,null,Object(j.d)(m.d,{type:"target",position:m.e.Top,style:{background:"#fff6"}}),Object(j.d)(q,null,"Gain #",n),Object(j.d)(z,null,Object(j.d)(_,null,"Gain (0.0 \u2014 1.0)",Object(j.d)("input",{disabled:!u,type:"number",min:0,max:1,step:.1,value:o,onChange:function(e){return a(e.currentTarget.valueAsNumber)}}))),Object(j.d)(m.d,{type:"source",position:m.e.Bottom,style:{background:"#B0BF1A"}}))})),J=function(e,n,t,r){var o=Object(c.useState)(!1),a=Object(k.a)(o,2),u=a[0],i=a[1];return Object(c.useEffect)((function(){S.set(e,E.createBiquadFilter()),i(!0)}),[e]),Object(c.useEffect)((function(){S.get(e).type=n}),[e,n]),Object(c.useEffect)((function(){S.get(e).frequency.setValueAtTime(t,A)}),[e,t]),Object(c.useEffect)((function(){S.get(e).gain.setValueAtTime(r,A)}),[e,r]),{ready:u}},R=["lowshelf","highshelf","peaking"],U=Object(c.memo)((function(e){var n=e.id,t=Object(c.useState)(R[0]),r=Object(k.a)(t,2),o=r[0],a=r[1],u=Object(c.useState)(440),i=Object(k.a)(u,2),l=i[0],d=i[1],s=Object(c.useState)(0),f=Object(k.a)(s,2),b=f[0],p=f[1],g=J(n,o,l,b).ready;return Object(j.d)(c.Fragment,null,Object(j.d)(m.d,{type:"target",position:m.e.Top,style:{background:"#fff6"}}),Object(j.d)(q,null,"Biquad Filter #",n),Object(j.d)(z,null,Object(j.d)(_,null,"Type"),R.map((function(e){return Object(j.d)(_,{key:e},Object(j.d)("input",{type:"radio",value:e,checked:o===e,onChange:function(e){return a(e.currentTarget.value)}}),e)})),Object(j.d)("hr",null),Object(j.d)(_,null,"Frequency (-24k \u2014 24k)",Object(j.d)("input",{disabled:!g,type:"number",min:"-24000",max:"24000",value:l,onChange:function(e){return d(e.currentTarget.valueAsNumber)}})),Object(j.d)(M,null),Object(j.d)(_,null,"Gain (-40 \u2014 40)",Object(j.d)("input",{disabled:!g,type:"number",min:-40,max:40,value:b,onChange:function(e){return p(e.currentTarget.valueAsNumber)}}))),Object(j.d)(m.d,{type:"source",position:m.e.Bottom,style:{background:"#B0BF1A"}}))})),D=function(e,n){return Math.random()*(n-e)+e},H=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n/2;return{x:D(0,e-200),y:t?D(r,n):D(0,r)}};function P(){var e=Object(r.a)(["\n  width: 100%;\n  height: 28px;\n  border-radius: 4px;\n  background-color: #212d40;\n  border-color: #212d40;\n  color: #fff;\n  svg {\n    float: left;\n    color: #ccc;\n  }\n"]);return P=function(){return e},e}function W(){var e=Object(r.a)(["\n  position: absolute;\n  top: ",";\n  right: 10px;\n  width: 160px;\n  height: 28px;\n  z-index: 4;\n  border-radius: 4px;\n  background-color: #212d40;\n  border-color: #212d40;\n  color: #fff;\n  svg {\n    float: left;\n    color: #ccc;\n  }\n"]);return W=function(){return e},e}var K=v.a.button(W(),(function(e){return e.fourth?"104px":e.third?"72px":e.second?"40px":"8px"})),Q=(v.a.button(P()),function(){return{delNode:function(e){var n=S.get(e);null===n||void 0===n||n.disconnect(),S.delete(e)},connectNodes:function(e,n){if("destination"===n){var t;null===(t=S.get(e))||void 0===t||t.connect(E.destination)}else{var r,c=S.get(n);c&&(null===(r=S.get(e))||void 0===r||r.connect(c))}},disconnectNodes:function(e,n){if("destination"===n){var t;null===(t=S.get(e))||void 0===t||t.disconnect()}else{var r,c=S.get(n);c&&(null===(r=S.get(e))||void 0===r||r.disconnect(c))}}}}),X={id:"destination",type:"output",selectable:!1,connectable:!0,data:{label:"Audio Output"},style:{backgroundColor:"#364156",color:"#fff"},position:{x:0,y:0}},Y=function(e,n){return e===n},Z=function(){var e=Q(),n=e.connectNodes,t=e.disconnectNodes,r=e.delNode,a=Object(m.j)((function(e){return e.width}),Y),u=Object(m.j)((function(e){return e.height}),Y),i=Object(c.useState)([]),l=Object(k.a)(i,2),d=l[0],s=l[1],f=Object(c.useRef)(null);Object(c.useEffect)((function(){a>0&&u>0&&0===d.length&&(X.position={x:a/2,y:u/2},s([X]))}),[a,u,d]);return o.a.createElement(m.h,{elements:d,onConnect:function(e){null!==e.source&&null!==e.target&&(n(e.source,e.target),s((function(n){return Object(m.g)(e,n)})))},onSelectionChange:function(e){return f.current=e},nodeTypes:{oscillator:V,gain:I,biquadfilter:U},connectionLineStyle:{stroke:"#006"},snapToGrid:!0,snapGrid:[16,16],style:{backgroundColor:"#7d4e57"}},o.a.createElement(m.c,{showInteractive:!1}),o.a.createElement(m.a,{variant:m.b.Lines,color:"#A16873",gap:32}),o.a.createElement(K,{onClick:function(){return s([].concat(Object(x.a)(d),[{id:(d.length+1).toString(),type:"oscillator",className:"audioNode",position:H(a,u)}]))}},o.a.createElement(w.a,{icon:["fas","wave-sine"]}),"Add Oscillator"),o.a.createElement(K,{second:!0,onClick:function(){return s([].concat(Object(x.a)(d),[{id:(d.length+1).toString(),type:"gain",className:"audioNode",position:H(a,u)}]))}},o.a.createElement(w.a,{icon:["fas","volume"]}),"Add Gain"),o.a.createElement(K,{third:!0,onClick:function(){return s([].concat(Object(x.a)(d),[{id:(d.length+1).toString(),type:"biquadfilter",className:"audioNode",position:H(a,u)}]))}},o.a.createElement(w.a,{icon:["fas","filter"]}),"Add Biquad Filter"),o.a.createElement(K,{fourth:!0,onClick:function(){null!==f.current&&(f.current.forEach((function(e){void 0!==e.type?r(e.id):t(e.source,e.target)})),s(Object(m.i)(f.current,d)),f.current=null)}},o.a.createElement(w.a,{icon:["fas","trash-alt"]}),"Remove Selected"))};function $(){var e=Object(r.a)(["\n  width: 100vw;\n  height: 100vh;\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  > div:nth-of-type(1) {\n    flex-grow: 0;\n  }\n  > div:nth-of-type(2) {\n    flex-grow: 1;\n  }\n"]);return $=function(){return e},e}var ee=v.a.div($());function ne(){var e=Object(r.a)(["\n        display: flex;\n        align-items: center;\n        font-size: 3rem;\n        justify-content: center;\n        background-color: #364156;\n        color: #d66853;\n      "]);return ne=function(){return e},e}var te=function(){return Object(j.d)("div",{css:Object(j.c)(ne())},"VISUAL")};function re(){var e=Object(r.a)(["\n        display: flex;\n        align-items: center;\n        font-size: 3rem;\n        justify-content: center;\n        background-color: #11151c;\n        color: #fff;\n      "]);return re=function(){return e},e}var ce=function(){return Object(j.d)("div",{css:Object(j.c)(re())},"PIANO")};function oe(){var e=Object(r.a)(["\n  background-color: #11151c;\n  color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 8px 0 3px;\n"]);return oe=function(){return e},e}var ae=v.a.div(oe());function ue(){var e=Object(r.a)(["\n  top: 0;\n  right: 0;\n  width: 300px;\n  position: fixed;\n  z-index: 200;\n  background-color: #000;\n"]);return ue=function(){return e},e}var ie=Object(j.c)(ue()),le=function(){var e=Object(i.b)();return Object(j.d)("div",{css:ie,onMouseEnter:function(){return e(p())},onMouseLeave:function(){return e(p())}},Object(j.d)("h2",{css:{textAlign:"center"}},"MENU"),Object(j.d)("ul",{css:{lineHeight:1.8,fontSize:"1.1rem"}},Object(j.d)("li",null,"One"),Object(j.d)("li",null,"Two"),Object(j.d)("li",null,"Three")))},de=function(){var e=Object(i.c)(b),n=Object(i.b)();return o.a.createElement(o.a.Fragment,null,o.a.createElement(w.a,{icon:["fas","bars"],size:"lg",onMouseEnter:function(){return n(p())},onMouseLeave:function(){return n(p())}}),e&&o.a.createElement(le,null))},se=function(){return Object(j.d)(ae,null,Object(j.d)("h1",{css:{margin:0,color:"#f2f4f7"}},"WAA\u03c0Synth ","0.1.0"),Object(j.d)(de,null))};function fe(){return Object(j.d)(ee,null,Object(j.d)(se,null),Object(j.d)(y,null,Object(j.d)(m.f,null,Object(j.d)(Z,null)),Object(j.d)(te,null),Object(j.d)(ce,null)))}var be=t(16),pe=t(29),ge=t(30),Oe=t(31),je=t(32),me=t(33);function ve(){var e=Object(r.a)(['\n        @import url("https://fonts.googleapis.com/css2?family=Tomorrow&display=swap");\n        * {\n          box-sizing: border-box;\n        }\n        html,\n        body {\n          padding: 0;\n          margin: 0;\n          width: 100vw;\n          height: 100vh;\n          font-family: Tomorrow, sans-serif;\n          font-style: normal;\n          font-weight: 400;\n          font-size: 16px;\n        }\n        button {\n          font-family: Tomorrow, sans-serif;\n        }\n        .react-flow__controls-button {\n          width: 25px;\n          height: 25px;\n          opacity: 0.5;\n        }\n        .react-flow__node.audioNode {\n          border: 2px solid #212d40;\n          border-radius: 3px;\n          background-color: #212d40;\n          color: #fff;\n          padding: 10px;\n          &.selected {\n            border-color: #aebdd5;\n          }\n        }\n        .react-flow__edge {\n          .react-flow__edge-path {\n            stroke: #33c;\n          }\n          &.selected .react-flow__edge-path {\n            stroke-width: 2.5;\n            stroke: #aebdd5;\n          }\n        }\n      ']);return ve=function(){return e},e}be.b.add(pe.a,ge.a,Oe.a,je.a,me.a),u.a.render(o.a.createElement(c.Fragment,null,o.a.createElement(j.a,{styles:Object(j.c)(ve())}),o.a.createElement(i.a,{store:O},o.a.createElement(fe,null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.8dfd04af.chunk.js.map