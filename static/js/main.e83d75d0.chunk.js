(this.webpackJsonpsynth=this.webpackJsonpsynth||[]).push([[0],{36:function(e){e.exports=JSON.parse('{"elements":[{"id":"destination","type":"output","selectable":false,"connectable":true,"data":{"label":"Audio Output"},"style":{"backgroundColor":"#364156","color":"#fff"},"position":{"x":704,"y":496}},{"id":"1","type":"oscillator","className":"audioNode","position":{"x":400,"y":32}},{"id":"2","type":"gain","className":"audioNode","position":{"x":688,"y":16}},{"id":"3","type":"analyser","className":"audioNode","position":{"x":944,"y":208}},{"source":"1","target":"2","id":"reactflow__edge-1-2","type":"default"},{"source":"2","target":"3","id":"reactflow__edge-2-3","type":"default"},{"source":"3","target":"destination","id":"reactflow__edge-3-destination","type":"default"}],"analysers":[{"id":"3","fftSize":2048,"color":"#962813","lineWidth":4}],"gains":[{"id":"2","params":[{"name":"gain","call":"setValueAtTime","values":[1,0]},{"name":"gain","call":"exponentialRampToValueAtTime","values":[0.01,0.5]}]}],"biquadFilters":[],"oscillators":[{"id":"1","type":"sine","params":[{"name":"frequency","call":"setValueAtTime","values":[150,0]},{"name":"frequency","call":"exponentialRampToValueAtTime","values":[0.01,0.5]},{"name":"frequency","call":"setValueAtTime","values":[0,0.5]}]}]}')},37:function(e){e.exports=JSON.parse('{"elements":[{"id":"destination","type":"output","selectable":false,"connectable":true,"data":{"label":"Audio Output"},"style":{"backgroundColor":"#364156","color":"#fff"},"position":{"x":1232,"y":352}},{"id":"1","type":"gain","className":"audioNode","position":{"x":992,"y":-208}},{"id":"2","type":"biquadfilter","className":"audioNode","position":{"x":272,"y":-16}},{"id":"3","type":"biquadfilter","className":"audioNode","position":{"x":656,"y":-176}},{"id":"4","type":"oscillator","className":"audioNode","position":{"x":-144,"y":448}},{"id":"5","type":"oscillator","className":"audioNode","position":{"x":144,"y":448}},{"id":"6","type":"oscillator","className":"audioNode","position":{"x":432,"y":448}},{"id":"7","type":"oscillator","className":"audioNode","position":{"x":720,"y":448}},{"id":"8","type":"oscillator","className":"audioNode","position":{"x":1008,"y":448}},{"id":"9","type":"oscillator","className":"audioNode","position":{"x":1296,"y":448}},{"source":"2","target":"3","id":"reactflow__edge-2-3","type":"default"},{"source":"3","target":"1","id":"reactflow__edge-3-1","type":"default"},{"source":"4","target":"2","id":"reactflow__edge-4-2","type":"default"},{"source":"5","target":"2","id":"reactflow__edge-5-2","type":"default"},{"source":"6","target":"2","id":"reactflow__edge-6-2","type":"default"},{"source":"7","target":"2","id":"reactflow__edge-7-2","type":"default"},{"source":"8","target":"2","id":"reactflow__edge-8-2","type":"default"},{"source":"9","target":"2","id":"reactflow__edge-9-2","type":"default"},{"id":"11","type":"analyser","className":"audioNode","position":{"x":1312,"y":64}},{"source":"1","target":"11","id":"reactflow__edge-1-11","type":"default"},{"source":"11","target":"destination","id":"reactflow__edge-11-destination","type":"default"}],"analysers":[{"id":"11","fftSize":2048,"color":"#d66853","lineWidth":2}],"gains":[{"id":"1","params":[{"name":"gain","call":"setValueAtTime","values":[0.00001,0]},{"name":"gain","call":"exponentialRampToValueAtTime","values":[1,0.02]},{"name":"gain","call":"exponentialRampToValueAtTime","values":[0.3,0.03]},{"name":"gain","call":"exponentialRampToValueAtTime","values":[0.00001,0.3]}]}],"biquadFilters":[{"id":"2","type":"bandpass","params":[{"name":"frequency","call":"setValueAtTime","values":[10000,0]}]},{"id":"3","type":"highpass","params":[{"name":"frequency","call":"setValueAtTime","values":[7000,0]}]}],"oscillators":[{"id":"4","type":"square","params":[{"name":"frequency","call":"setValueAtTime","values":[80,0]},{"name":"frequency","call":"setValueAtTime","values":[0,0.3]}]},{"id":"5","type":"square","params":[{"name":"frequency","call":"setValueAtTime","values":[120,0]},{"name":"frequency","call":"setValueAtTime","values":[0,0.3]}]},{"id":"6","type":"square","params":[{"name":"frequency","call":"setValueAtTime","values":[166.4,0]},{"name":"frequency","call":"setValueAtTime","values":[0,0.3]}]},{"id":"7","type":"square","params":[{"name":"frequency","call":"setValueAtTime","values":[217.2,0]},{"name":"frequency","call":"setValueAtTime","values":[0,0.3]}]},{"id":"8","type":"square","params":[{"name":"frequency","call":"setValueAtTime","values":[271.6,0]},{"name":"frequency","call":"setValueAtTime","values":[0,0.3]}]},{"id":"9","type":"square","params":[{"name":"frequency","call":"setValueAtTime","values":[328.4,0]},{"name":"frequency","call":"setValueAtTime","values":[0,0.3]}]}]}')},44:function(e,t,n){e.exports=n(54)},54:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(10),c=n.n(r),u=n(3),i=n(0),o=n.n(i),l=n(1),d=n(40),s=n(42),f=n(38),b=n(39),p=n(41),O=n(20),m=n(16),j=n(4),v=n(9),g=new(window.AudioContext||window.webkitAudioContext),y=(g.destination,new Map),h=function(e,t){if("destination"===t){var n;null===(n=y.get(e))||void 0===n||n.connect(g.destination)}else{var a,r=y.get(t);r&&(null===(a=y.get(e))||void 0===a||a.connect(r))}},x=function(e,t){y.set(e,t)},T=function(e){var t=y.get(e);null===t||void 0===t||t.disconnect(),y.delete(e)},A=function(e,t){t.forEach((function(t){var n,a=Object(v.a)(t.values);["setValueAtTime","linearRampToValueAtTime","exponentialRampToValueAtTime","setTargetAtTime","setValueCurveAtTime"].includes(t.call)&&(a[1]+=g.currentTime),["cancelScheduledValues","cancelAndHoldAtTime"].includes(t.call)&&(a[0]+=g.currentTime),(n=e[t.name])[t.call].apply(n,Object(v.a)(a))}))},q=n(8);function w(){var e=Object(a.a)(["\n  border: 0;\n  background: transparent;\n  color: #f33;\n  font-size: 0.7rem;\n  padding: 0;\n"]);return w=function(){return e},e}function k(){var e=Object(a.a)(["\n  border: 0;\n  background: transparent;\n  color: #0c0;\n  font-size: 0.7rem;\n  padding: 0 8px;\n"]);return k=function(){return e},e}function C(){var e=Object(a.a)(["\n  margin: 10px 0 6px 0;\n  border: 0;\n  border-bottom: 2px ridge #212d40;\n"]);return C=function(){return e},e}function V(){var e=Object(a.a)(['\n  display: block;\n  font-size: 0.8rem;\n  text-transform: capitalize;\n  input[type="number"] {\n    display: block;\n    margin-top: 2px;\n    background-color: rgba(255, 255, 255, 0.7);\n    border-width: 1px;\n    padding: 1px 0 1px 4px;\n  }\n  > :not(:last-child) {\n    margin-bottom: 12px;\n  }\n']);return V=function(){return e},e}function N(){var e=Object(a.a)(["\n  padding: 8px;\n  margin: 8px 0;\n  background-color: #364156;\n"]);return N=function(){return e},e}function S(){var e=Object(a.a)(["\n  text-align: center;\n"]);return S=function(){return e},e}var F=q.a.div(S()),_=q.a.div(N()),E=q.a.label(V()),R=q.a.hr(C()),z=q.a.button(k()),I=q.a.button(w()),B=n(7),G=function(e){var t=e.numberOfOutputs,n=e.onConnect;return Object(l.d)(i.Fragment,null,new Array(t).fill(0).map((function(e,a){return Object(l.d)(B.d,{key:"output".concat(a),type:"source",position:B.e.Bottom,style:{left:"".concat(100/(t+1)*(a+1),"%"),background:"#B0BF1A"},onConnect:n})})))},P=function(e){var t=e.numberOfInputs,n=e.onConnect;return Object(l.d)(i.Fragment,null,new Array(t).fill(0).map((function(e,a){return Object(l.d)(B.d,{key:"input".concat(a),type:"target",position:B.e.Top,style:{left:"".concat(100/(t+1)*(a+1),"%"),background:"#fff6"},onConnect:n})})))},M=[32,64,128,256,512,1024,2048,4096,8192,16384,32768],W=Object(i.memo)((function(e){var t=e.id,n=Object(i.useRef)(g.createAnalyser()),a=Object(u.b)(),r=Object(u.c)(U)(t)||{id:t,fftSize:M[6],color:"#d66853",lineWidth:2};return Object(i.useEffect)((function(){return x(t,n.current),a(ne(r)),function(){a(ae(t)),T(t)}}),[]),Object(l.d)(i.Fragment,null,Object(l.d)(P,{numberOfInputs:n.current.numberOfInputs}),Object(l.d)(F,null,"Analyser #",t),Object(l.d)(_,null,Object(l.d)(E,null,"FFT Size",Object(l.d)("select",{css:{float:"right"},value:r.fftSize,onChange:function(e){return a(ne(Object(j.a)(Object(j.a)({},r),{},{fftSize:+e.currentTarget.value})))}},M.map((function(e){return Object(l.d)("option",{key:e,value:e},e)})))),Object(l.d)(E,null,"Colour",Object(l.d)("input",{css:{float:"right"},type:"color",value:r.color,onChange:function(e){return a(ne(Object(j.a)(Object(j.a)({},r),{},{color:e.currentTarget.value})))}})),Object(l.d)(E,null,"Line Width",Object(l.d)("input",{type:"number",min:1,value:r.lineWidth,onChange:function(e){return a(ne(Object(j.a)(Object(j.a)({},r),{},{lineWidth:e.currentTarget.valueAsNumber})))}}))),Object(l.d)(G,{numberOfOutputs:n.current.numberOfOutputs}))})),L=Object(m.b)({name:"activeSound",initialState:{name:"No Name",playFrequency:null,analysers:[],gains:[],biquadFilters:[],oscillators:[]},reducers:{setName:function(e,t){var n=t.payload;e.name=n},setPlayFrequency:function(e,t){var n=t.payload;e.playFrequency=n},setAnalysers:function(e,t){var n=t.payload;e.analysers=n},setAnalyser:function(e,t){var n=t.payload,a=e.analysers.findIndex((function(e){return e.id===n.id}));-1===a?e.analysers.push(n):e.analysers[a]=n},delAnalyser:function(e,t){var n=t.payload;e.analysers=e.analysers.filter((function(e){return e.id!==n}))},setGains:function(e,t){var n=t.payload;e.gains=n},setGain:function(e,t){var n=t.payload,a=e.gains.findIndex((function(e){return e.id===n.id}));-1===a?e.gains.push(n):e.gains[a]=n},delGain:function(e,t){var n=t.payload;e.gains=e.gains.filter((function(e){return e.id!==n}))},setBiquadFilters:function(e,t){var n=t.payload;e.biquadFilters=n},setBiquadFilter:function(e,t){var n=t.payload,a=e.biquadFilters.findIndex((function(e){return e.id===n.id}));-1===a?e.biquadFilters.push(n):e.biquadFilters[a]=n},delBiquadFilter:function(e,t){var n=t.payload;e.biquadFilters=e.biquadFilters.filter((function(e){return e.id!==n}))},setOscillators:function(e,t){var n=t.payload;e.oscillators=n},setOscillator:function(e,t){var n=t.payload,a=e.oscillators.findIndex((function(e){return e.id===n.id}));-1===a?e.oscillators.push(n):e.oscillators[a]=n},delOscillator:function(e,t){var n=t.payload;e.oscillators=e.oscillators.filter((function(e){return e.id!==n}))}}}),H=function(e){return e.activeSound.name},J=function(e){return e.activeSound.playFrequency},D=function(e){var t=e.activeSound;return{analysers:t.analysers,gains:t.gains,biquadFilters:t.biquadFilters,oscillators:t.oscillators}},U=function(e){var t=e.activeSound;return function(e){return t.analysers.find((function(t){return t.id===e}))}},K=function(e){return e.activeSound.analysers},X=function(e){var t=e.activeSound;return function(e){return t.gains.find((function(t){return t.id===e}))}},Z=function(e){var t=e.activeSound;return function(e){return t.biquadFilters.find((function(t){return t.id===e}))}},$=function(e){var t=e.activeSound;return function(e){return t.oscillators.find((function(t){return t.id===e}))}},Q=L.actions,Y=Q.setName,ee=Q.setPlayFrequency,te=Q.setAnalysers,ne=Q.setAnalyser,ae=Q.delAnalyser,re=Q.setGains,ce=Q.setGain,ue=Q.delGain,ie=Q.setBiquadFilters,oe=Q.setBiquadFilter,le=Q.delBiquadFilter,de=Q.setOscillators,se=Q.setOscillator,fe=Q.delOscillator,be=L.reducer,pe=Object(m.b)({name:"sounds",initialState:[],reducers:{addSound:function(e,t){var n=t.payload,a=n.name,r=n.description;e.push({name:a,description:r})}}}),Oe=(pe.actions.addSound,pe.reducer),me=Object(m.b)({name:"ux",initialState:{menu:!1,loadElements:null},reducers:{toggleMenu:function(e){e.menu=!e.menu},setLoadElements:function(e,t){var n=t.payload;e.loadElements=n}}}),je=function(e){return e.ux.menu},ve=function(e){return e.ux.loadElements},ge=me.actions,ye=ge.toggleMenu,he=ge.setLoadElements,xe=me.reducer,Te=Object(m.a)({reducer:{activeSound:be,sounds:Oe,ux:xe}});function Ae(){var e=Object(a.a)(['\n  height: max-content;\n  display: grid;\n  grid-template-columns: auto 450px;\n  grid-template-rows: 300px 200px auto;\n  grid-template-areas:\n    "audionodes visual"\n    "audionodes piano"\n    "audionodes .";\n\n  > :first-of-type {\n    grid-area: audionodes;\n  }\n  > canvas {\n    grid-area: visual !important;\n  }\n  > :last-of-type {\n    grid-area: piano;\n  }\n']);return Ae=function(){return e},e}function qe(){var e=Object(a.a)(["\n  width: 100vw;\n  height: 100vh;\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  > div:nth-of-type(1) {\n    flex-grow: 0;\n  }\n  > div:nth-of-type(2) {\n    flex-grow: 1;\n  }\n"]);return qe=function(){return e},e}var we=q.a.div(qe()),ke=q.a.div(Ae()),Ce=n(13),Ve=function(e){return Object(i.useRef)(Object.keys(e.constructor.prototype).filter((function(t){return e[t].constructor===AudioParam}))).current};function Ne(){var e=Object(a.a)(["\n  margin: 4px 8px;\n  font-size: 0.9rem;\n  small {\n    margin-left: 8px;\n    font-size: 0.7rem;\n  }\n"]);return Ne=function(){return e},e}var Se=Object(l.c)(Ne()),Fe=function(e){var t=e.audioNode,n=e.keys||Ve(t);return Object(l.d)(i.Fragment,null,n.map((function(e){var n=t[e];return Object(l.d)("p",{css:Se,key:e},e,": ",n.defaultValue,Object(l.d)("small",null,n.minValue<=Number.MIN_SAFE_INTEGER?"\u221e":n.minValue%1===0?n.minValue:n.minValue.toFixed(2)," ","\u2014"," ",n.maxValue>=Number.MAX_SAFE_INTEGER?"\u221e":n.maxValue%1===0?n.maxValue:n.maxValue.toFixed(2)))})))};function _e(){var e=Object(a.a)(["\n  width: 100%;\n  display: flex;\n  /*justify-content: space-between;*/\n  label {\n    font-size: 0.8rem;\n    input {\n      width: 80px;\n    }\n  }\n"]);return _e=function(){return e},e}var Ee=Object(l.c)(Object(l.c)(_e())),Re=["setValueAtTime","linearRampToValueAtTime","exponentialRampToValueAtTime","setTargetAtTime","setValueCurveAtTime","cancelScheduledValues","cancelAndHoldAtTime"],ze=function(e){var t,n=e.audioNode,a=e.name,r=e.call,c=e.values,u=e.onChange,o=Ve(n),d=function(e){var t=+e.currentTarget.getAttribute("data-nth"),n=+e.currentTarget.valueAsNumber,a=Object(v.a)(c);a[t]=n,u({values:a})},s=function(e){return c[e]};return Object(l.d)(i.Fragment,null,Object(l.d)("div",{css:Ee},Object(l.d)("label",null,"Name",Object(l.d)("br",null),Object(l.d)("select",{value:a,onChange:function(e){return u({name:e.currentTarget.value})}},o.map((function(e){return Object(l.d)("option",{key:e,value:e},e)})))),Object(l.d)("label",null,"Call",Object(l.d)("br",null),Object(l.d)("select",{value:r,onChange:function(e){return u({call:e.currentTarget.value})},css:{width:120}},Re.map((function(e){return Object(l.d)("option",{key:e,value:e},e)}))))),["setValueAtTime"].includes(r)&&Object(l.d)("div",{css:Ee},Object(l.d)("label",null,"value",Object(l.d)("br",null),Object(l.d)("input",{type:"number",value:s(0),"data-nth":0,onChange:d})),Object(l.d)("label",null,"startTime (t+)",Object(l.d)("br",null),Object(l.d)("input",{type:"number",value:s(1),"data-nth":1,onChange:d}))),["linearRampToValueAtTime","exponentialRampToValueAtTime"].includes(r)&&Object(l.d)("div",{css:Ee},Object(l.d)("label",null,"value",Object(l.d)("br",null),Object(l.d)("input",{type:"number",value:s(0),"data-nth":0,onChange:d})),Object(l.d)("label",null,"endTime (t+)",Object(l.d)("br",null),Object(l.d)("input",{type:"number",value:s(1),"data-nth":1,onChange:d}))),["setTargetAtTime"].includes(r)&&Object(l.d)("div",{css:Ee},Object(l.d)("label",null,"value",Object(l.d)("br",null),Object(l.d)("input",{type:"number",value:s(0),"data-nth":0,onChange:d})),Object(l.d)("label",null,"startTime (t+)",Object(l.d)("br",null),Object(l.d)("input",{type:"number",value:s(1),"data-nth":1,onChange:d})),Object(l.d)("label",null,"timeConstant",Object(l.d)("br",null),Object(l.d)("input",{type:"number",value:s(2),"data-nth":2,onChange:d}))),["setValueCurveAtTime"].includes(r)&&Object(l.d)("div",{css:Ee},Object(l.d)("label",null,"values (, sep)",Object(l.d)("br",null),Object(l.d)("input",{type:"string",value:(t=0,Array.isArray(c[t])?c[t].join(","):c[t].toString()),"data-nth":0,onChange:function(e){var t=+e.currentTarget.getAttribute("data-nth"),n=e.currentTarget.value.split(",").map((function(e){return+e})),a=Object(v.a)(c);a[t]=n,u({values:a})}})),Object(l.d)("label",null,"startTime (t+)",Object(l.d)("br",null),Object(l.d)("input",{type:"number",value:s(1),"data-nth":1,onChange:d})),Object(l.d)("label",null,"duration",Object(l.d)("br",null),Object(l.d)("input",{type:"number",value:s(2),"data-nth":2,onChange:d}))),["cancelScheduledValues"].includes(r)&&Object(l.d)("div",{css:Ee},Object(l.d)("label",null,"startTime (t+)",Object(l.d)("br",null),Object(l.d)("input",{type:"number",value:s(0),"data-nth":0,onChange:d}))),["cancelAndHoldAtTime"].includes(r)&&Object(l.d)("div",{css:Ee},Object(l.d)("label",null,"cancelTime (t+)",Object(l.d)("br",null),Object(l.d)("input",{type:"number",value:s(0),"data-nth":0,onChange:d}))))},Ie=function(e){var t=e.audioNode,n=e.params,a=e.setParams;return Object(l.d)(i.Fragment,null,n.map((function(e,r){return Object(l.d)("div",{key:e.name+e.call+r},r>0&&Object(l.d)(R,null),Object(l.d)(ze,Object.assign({audioNode:t},e,{onChange:function(e){return function(e,t){var r=Object(v.a)(n);void 0!==t.call&&(["setValueAtTime","linearRampToValueAtTime","exponentialRampToValueAtTime"].includes(t.call)&&(t.values=[0,0]),["setTargetAtTime"].includes(t.call)&&(t.values=[0,0,0]),["setValueCurveAtTime"].includes(t.call)&&(t.values=[[0],0,0]),["cancelScheduledValues","cancelAndHoldAtTime"].includes(t.call)&&(t.values=[0])),r[e]=Object(j.a)(Object(j.a)({},r[e]),t),a(r)}(r,e)}})),Object(l.d)(I,{onClick:function(){return function(e){var t=Object(v.a)(n);t.splice(e,1),a(t)}(r)}},"- Remove Param Update"))})))},Be=["sine","square","sawtooth","triangle"],Ge=Object(i.memo)((function(e){var t=e.id,n=Object(i.useRef)(g.createOscillator()),a=Object(i.useRef)(null),r=Object(u.b)(),c=Object(u.c)($)(t)||{id:t,type:Be[0],params:[]},o=Ve(g.createOscillator()),d=Object(i.useState)(null),s=Object(Ce.a)(d,2),f=s[0],b=s[1],p=Object(u.c)(J),O=Object(B.l)((function(e){return e.edges}));Object(i.useEffect)((function(){return function(){r(fe(t))}}),[]),Object(i.useEffect)((function(){var e,n=O.find((function(e){return e.source===t}));b(null!==(e=null===n||void 0===n?void 0:n.target)&&void 0!==e?e:null)}),[O.length]),Object(i.useEffect)((function(){var e;null!==a.current&&(null===(e=a.current)||void 0===e||e.disconnect(),a.current=null);a.current=function(){var e=g.createOscillator();return e.type=c.type,e.onended=function(){throw new Error("Oscillator #{$id} ended.")},x(t,e),null!==f&&h(t,f),e}(),null!==p&&(a.current.frequency.setValueAtTime(p,g.currentTime),A(a.current,c.params),a.current.start())}),[p]);var m=function(e){r(se(Object(j.a)(Object(j.a)({},c),{},{type:e.currentTarget.value})))},y=function(e){r(se(Object(j.a)(Object(j.a)({},c),{},{params:e})))};return Object(l.d)(i.Fragment,null,Object(l.d)(F,null,"Oscillator #",t),Object(l.d)(Fe,{audioNode:n.current,keys:o}),o.length>0&&Object(l.d)(z,{onClick:function(){var e=Object(v.a)(c.params);e.push({name:o[0],call:"setValueAtTime",values:[1,0]}),y(e)}},"+ Add Param Update"),Object(l.d)(_,null,Object(l.d)(E,null,"Type"),Be.map((function(e){return Object(l.d)(E,{key:e},Object(l.d)("input",{type:"radio",defaultValue:e,checked:c.type===e,onChange:m}),e)})),c.params.length>0&&Object(l.d)(R,null),Object(l.d)(Ie,{audioNode:n.current,params:c.params,setParams:y})),Object(l.d)(G,{numberOfOutputs:n.current.numberOfOutputs}))})),Pe=Object(i.memo)((function(e){var t=e.id,n=Object(i.useRef)(g.createGain()),a=Object(u.b)(),r=Object(u.c)(X)(t)||{id:t,params:[]},c=Ve(n.current),o=Object(u.c)(J);Object(i.useEffect)((function(){return x(t,n.current),a(ce(r)),function(){a(ue(t)),T(t)}}),[]),Object(i.useEffect)((function(){null!==o&&A(n.current,r.params)}),[o]);var d=function(e){a(ce(Object(j.a)(Object(j.a)({},r),{},{params:e})))};return Object(l.d)(i.Fragment,null,Object(l.d)(P,{numberOfInputs:n.current.numberOfInputs}),Object(l.d)(F,null,"Gain #",t),Object(l.d)(Fe,{audioNode:n.current,keys:c}),c.length>0&&Object(l.d)(z,{onClick:function(){var e=Object(v.a)(r.params);e.push({name:c[0],call:"setValueAtTime",values:[1,0]}),d(e)}},"+ Add Param Update"),r.params.length>0&&Object(l.d)(_,null,Object(l.d)(Ie,{audioNode:n.current,params:r.params,setParams:d})),Object(l.d)(G,{numberOfOutputs:n.current.numberOfOutputs}))})),Me=["allpass","bandpass","highpass","highshelf","lowpass","lowshelf","notch","peaking"],We=Object(i.memo)((function(e){var t=e.id,n=Object(i.useRef)(g.createBiquadFilter()),a=Object(u.b)(),r=Object(u.c)(Z)(t)||{id:t,type:Me[0],params:[]},c=Ve(n.current),o=Object(u.c)(J);Object(i.useEffect)((function(){return x(t,n.current),a(oe(r)),function(){a(le(t)),T(t)}}),[]),Object(i.useEffect)((function(){null!==o&&A(n.current,r.params)}),[o]);var d=function(e){a(oe(Object(j.a)(Object(j.a)({},r),{},{type:e.currentTarget.value})))},s=function(e){a(oe(Object(j.a)(Object(j.a)({},r),{},{params:e})))};return Object(l.d)(i.Fragment,null,Object(l.d)(P,{numberOfInputs:n.current.numberOfInputs}),Object(l.d)(F,null,"Biquad Filter #",t),Object(l.d)(Fe,{audioNode:n.current,keys:c}),c.length>0&&Object(l.d)(z,{onClick:function(){var e=Object(v.a)(r.params);e.push({name:c[0],call:"setValueAtTime",values:[1,0]}),s(e)}},"+ Add Param Update"),Object(l.d)(_,null,Object(l.d)(E,null,"Type"),Object(l.d)("div",{css:{columnCount:2}},Me.map((function(e){return Object(l.d)(E,{key:e},Object(l.d)("input",{type:"radio",defaultValue:e,checked:r.type===e,onChange:d}),e)}))),r.params.length>0&&Object(l.d)(R,null),Object(l.d)(Ie,{audioNode:n.current,params:r.params,setParams:s})),Object(l.d)(G,{numberOfOutputs:n.current.numberOfOutputs}))})),Le=function(e,t){return Math.random()*(t-e)+e},He=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t/2;return{x:Le(0,e-200),y:n?Le(a,t):Le(0,a)}},Je=n(12);function De(){var e=Object(a.a)(["\n  width: 100%;\n  height: 28px;\n  border-radius: 4px;\n  background-color: #212d40;\n  border-color: #212d40;\n  color: #fff;\n  svg {\n    float: left;\n    color: #ccc;\n  }\n"]);return De=function(){return e},e}function Ue(){var e=Object(a.a)(["\n  position: absolute;\n  top: ",";\n  right: 10px;\n  width: 160px;\n  height: 28px;\n  z-index: 4;\n  border-radius: 4px;\n  background-color: #212d40;\n  border-color: #212d40;\n  color: #fff;\n  svg {\n    float: left;\n    color: #ccc;\n  }\n"]);return Ue=function(){return e},e}function Ke(){var e=Object(a.a)(["\n  position: absolute;\n  top: 8px;\n  right: 10px;\n  z-index: 4;\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n  .text {\n    display: none;\n  }\n  &:hover .text {\n    display: block;\n  }\n"]);return Ke=function(){return e},e}function Xe(){var e=Object(a.a)(["\n      height: 28px;\n      border-radius: 4px;\n      background-color: #212d40;\n      border-color: #212d40;\n      color: #fff;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      gap: 15px;\n      svg {\n        color: #ccc;\n      }\n      :hover svg {\n        color: #fff;\n      }\n    "]);return Xe=function(){return e},e}var Ze=function(e){var t=e.icon,n=e.onClick,a=e.children;return Object(l.d)("button",{css:Object(l.c)(Xe()),onClick:n},Object(l.d)("div",{className:"text"},a),Object(l.d)(Je.a,{fixedWidth:!0,icon:t}))},$e=q.a.div(Ke()),Qe=(q.a.button(Ue(),(function(e){return e.fourth?"104px":e.third?"72px":e.second?"40px":"8px"})),q.a.button(De()),{oscillator:Ge,gain:Pe,biquadfilter:We,analyser:W}),Ye={id:"destination",type:"output",selectable:!1,connectable:!0,data:{label:"Audio Output"},style:{backgroundColor:"#364156",color:"#fff"},position:{x:0,y:0}},et=function(e,t){return e===t},tt=function(){var e=Object(u.b)(),t=Object(u.c)(ve),n=Object(B.l)((function(e){return e.width}),et),a=Object(B.l)((function(e){return e.height}),et),r=Object(i.useState)([]),c=Object(Ce.a)(r,2),l=c[0],d=c[1],s=Object(i.useRef)(null),f=Object(i.useRef)(1),b=function(e){null!==e.source&&null!==e.target&&(h(e.source,e.target),d((function(t){return Object(B.g)(e,t)})))};Object(i.useEffect)((function(){if(t){var n;y.clear();var a=t.filter((function(e){return Object(B.j)(e)}));d(a),setTimeout((function(){return t.filter((function(e){return Object(B.i)(e)})).forEach((function(e){return b(e)}))})),f.current=+(null===(n=a.filter((function(e){return"destination"!==e.id})).sort((function(e,t){return+t.id-+e.id}))[0])||void 0===n?void 0:n.id)+1||1,e(he(null))}}),[t]),Object(i.useEffect)((function(){n>0&&a>0&&0===l.length&&(Ye.position={x:n/2,y:a/2},d([Ye]))}),[n,a,l]);var p=function(e){return function(){return d([].concat(Object(v.a)(l),[{id:(f.current++).toString(),type:e,className:"audioNode",position:He(n,a)}]))}};return o.a.createElement(B.h,{elements:l,onConnect:b,nodeTypes:Qe,onSelectionChange:function(e){return s.current=e},connectionLineStyle:{stroke:"#006"},style:{backgroundColor:"#7d4e57"},snapToGrid:!0,snapGrid:[16,16]},o.a.createElement(B.c,{showInteractive:!1}),o.a.createElement(B.a,{variant:B.b.Lines,color:"#A16873",gap:32}),o.a.createElement($e,null,o.a.createElement(Ze,{onClick:p("oscillator"),icon:["fas","wave-sine"]},"Add Oscillator"),o.a.createElement(Ze,{onClick:p("gain"),icon:["fas","volume"]},"Add Gain"),o.a.createElement(Ze,{onClick:p("biquadfilter"),icon:["fas","filter"]},"Add Biquad Filter"),o.a.createElement(Ze,{onClick:p("analyser"),icon:["fas","analytics"]},"Add Analyser"),o.a.createElement(Ze,{onClick:function(){null!==s.current&&(s.current.forEach((function(e){void 0!==e.type?T(e.id):function(e,t){if("destination"===t){var n;null===(n=y.get(e))||void 0===n||n.disconnect()}else{var a,r=y.get(t);r&&(null===(a=y.get(e))||void 0===a||a.disconnect(r))}}(e.source,e.target)})),d(Object(B.k)(s.current,l)),s.current=null)},icon:["fas","trash-alt"]},"Remove Selected")))},nt=function(){var e=Object(u.c)(K),t=Object(i.useRef)(null),n=Object(i.useRef)(),a=Object(i.useRef)(0),r=Object(i.useRef)(0);Object(i.useEffect)((function(){n.current=t.current.getContext("2d");var e=function(e){var t=+getComputedStyle(e).getPropertyValue("width").slice(0,-2),n=+getComputedStyle(e).getPropertyValue("height").slice(0,-2),a=window.devicePixelRatio;return e.setAttribute("width",(t*a).toString()),e.setAttribute("height",(n*a).toString()),{width:t,height:n}}(t.current);a.current=e.width,r.current=e.height}),[]);Object(i.useEffect)((function(){e.length>0&&function t(){n.current.clearRect(0,0,a.current,r.current),e.forEach((function(e){var t=y.get(e.id);t&&(n.current.lineWidth=e.lineWidth,c(t,e.color))})),requestAnimationFrame(t)}()}),[e]);var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#ff0000",c=r.current/2;n.current.strokeStyle=t;var u=e.frequencyBinCount,i=new Float32Array(u);e.getFloatTimeDomainData(i);var o,l=a.current/u,d=0;n.current.beginPath(),n.current.moveTo(0,c);for(var s=0;s<u;s++)o=c+i[s]*c,n.current.lineTo(d,o),d+=l;n.current.lineTo(a.current,c),n.current.stroke()};return Object(l.d)("canvas",{ref:t,css:{width:"100%",height:"100%",backgroundColor:"#364156"}})};function at(){var e=Object(a.a)(["\n  background-color: #11151c;\n  color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 8px 0 3px;\n"]);return at=function(){return e},e}var rt=q.a.div(at()),ct=n(36),ut=n(37);function it(){var e=Object(a.a)(["\n  top: 0;\n  right: 0;\n  width: 280px;\n  position: fixed;\n  z-index: 200;\n  background-color: #000;\n  padding: 25px;\n  box-shadow: 5px 5px 15px 5px #000000;\n  a {\n    color: #66f;\n  }\n"]);return it=function(){return e},e}var ot=Object(l.c)(it()),lt=function(){var e=Object(u.b)();return Object(l.d)("div",{css:ot,onMouseLeave:function(){return e(ye())}},Object(l.d)("h2",{css:{textAlign:"center"}},"MENU"),Object(l.d)("ul",{css:{lineHeight:1.6,fontSize:"1.1rem",paddingLeft:25}},Object(l.d)("li",null,"Open poorly managed"," ",Object(l.d)("a",{href:"https://github.com/SubZtep/synth/wiki",target:"_blank",rel:"noopener noreferrer"},"Wiki page"),"."),Object(l.d)("li",null,Object(l.d)("button",{onClick:function(){localStorage.setItem("Kick",JSON.stringify(ct)),localStorage.setItem("HiHat",JSON.stringify(ut))}},"Load default sounds"),", will overwrite"," ",Object(l.d)("em",null,"Kick")," and ",Object(l.d)("em",null,"HiHat")," names in local storage.")))};function dt(){var e=Object(a.a)(["\n          &:hover {\n            transform: rotate(90deg);\n            transition: 500ms;\n          }\n        "]);return dt=function(){return e},e}var st=function(){var e=Object(u.c)(je),t=Object(u.b)(),n=Object(i.useRef)(null);return Object(l.d)(i.Fragment,null,Object(l.d)(Je.a,{icon:["fas","bars"],size:"lg",css:Object(l.c)(dt()),onMouseEnter:function(){null===n.current&&(n.current=setTimeout((function(){t(ye()),n.current=null}),500))},onMouseLeave:function(){null!==n.current&&(clearTimeout(n.current),n.current=null)}}),e&&Object(l.d)(lt,null))},ft=function(){return Object(l.d)("div",{css:{display:"flex",alignItems:"flex-end"}},Object(l.d)("h1",{css:{margin:0,color:"#f2f4f7"}},"WAA\u03c0Synth"),Object(l.d)("div",{css:{margin:4,color:"#d9dbde"}},"v","0.2.0"))};function bt(){var e=Object(a.a)(["\n          background-color: transparent;\n          border: 1px solid #323333;\n          font-family: Tomorrow;\n          padding: 2px 4px;\n          margin-left: 8px;\n          color: #fff;\n        "]);return bt=function(){return e},e}var pt=function(){var e=Object(u.c)(H),t=Object(u.b)(),n=Object(i.useRef)(null);return Object(i.useEffect)((function(){n.current.value=e}),[e]),Object(l.d)("div",null,Object(l.d)(Je.a,{icon:["fal","file-signature"],size:"lg",color:"LimeGreen"}),Object(l.d)("input",{ref:n,type:"text",defaultValue:e,onChange:function(e){return t(Y(e.target.value))},css:Object(l.c)(bt()),onFocus:function(e){return e.target.select()}}))};function Ot(){var e=Object(a.a)(["\n        cursor: pointer;\n        transition: 50ms;\n        &:hover {\n          transition: 50ms;\n          transform: scale(1.05);\n        }\n      "]);return Ot=function(){return e},e}var mt=function(){var e=Object(B.l)((function(e){return e.elements})),t=Object(u.c)(H),n=Object(u.c)(D);return Object(l.d)(Je.a,{icon:["fal","save"],size:"lg",onClick:function(){localStorage.setItem(t,JSON.stringify(Object(j.a)({elements:e.map((function(e){return void 0!==e.__rf&&(void 0!==e.__rf.position&&(e.position=e.__rf.position),delete e.__rf),e}))},n)))},css:Object(l.c)(Ot())})};function jt(){var e=Object(a.a)(["\n        transition: 50ms;\n        display: flex;\n        &:hover {\n          select {\n            display: block;\n          }\n          svg {\n            transition: 50ms;\n            transform: scale(1.05);\n          }\n        }\n      "]);return jt=function(){return e},e}var vt=function(){var e=Object(i.useRef)(null),t=Object(u.b)(),n=Object(i.useState)([]),a=Object(Ce.a)(n,2),r=a[0],c=a[1];return Object(l.d)("div",{css:Object(l.c)(jt())},Object(l.d)("select",{ref:e,css:{display:"none",marginRight:8},onChange:function(n){var a=n.currentTarget.value;e.current.value="";var r=localStorage.getItem(a);if(r){var c=JSON.parse(r);(function(e){var t=["elements","analysers","gains"];return Object.keys(e).filter((function(e){return t.includes(e)})).length===t.length})(c)&&(t(te(c.analysers)),t(re(c.gains)),t(ie(c.biquadFilters)),t(de(c.oscillators)),t(he(c.elements)),t(Y(a)))}}},Object(l.d)("option",{value:""},"--- Please Select ---"),r.map((function(e){return Object(l.d)("option",{key:e,value:e},e)}))),Object(l.d)(Je.a,{icon:["fal","folder-open"],size:"lg",onMouseOver:function(){return c(Object.keys(localStorage))}}))};function gt(){var e=Object(a.a)(["\n          display: flex;\n          gap: 18px;\n          opacity: 0.75;\n          transition: 100ms;\n          &:hover {\n            opacity: 1;\n            transition: 100ms;\n          }\n        "]);return gt=function(){return e},e}var yt=function(){return Object(l.d)(rt,null,Object(l.d)(ft,null),Object(l.d)("div",{css:Object(l.c)(gt())},Object(l.d)(vt,null),Object(l.d)(pt,null),Object(l.d)(mt,null),Object(l.d)(st,null)))};function ht(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  font-size: 3rem;\n  justify-content: center;\n  background-color: #11151c;\n  color: #fff;\n"]);return ht=function(){return e},e}function xt(){var e=Object(a.a)(["\n  display: flex;\n  width: 100%;\n  > div {\n    flex: 1;\n    position: relative;\n    height: 240px;\n    margin: 0 1px;\n    border: 1px solid #999;\n    border-radius: 1px 1px 5px 5px;\n    box-shadow: 2px 2px 5px #0006;\n    cursor: pointer;\n    background-color: #aaa;\n    &:hover {\n      background-color: #999;\n    }\n    &:active {\n      background-color: #888;\n    }\n    &::after {\n      position: absolute;\n      bottom: 0.8rem;\n      width: 100%;\n      text-align: center;\n      content: attr(data-note);\n      font: 500 1.72rem Candara;\n      color: #121212;\n    }\n  }\n  > div > div {\n    position: absolute;\n    top: -1px;\n    left: 70%;\n    height: 160px;\n    width: calc(60% + 2px);\n    border-radius: 1px 1px 5px 5px;\n    box-shadow: 2px 2px 5px #0006;\n    cursor: pointer;\n    z-index: 10;\n    background-color: #000;\n    &:hover {\n      background-color: #111;\n    }\n    &:active {\n      background-color: #222;\n    }\n  }\n"]);return xt=function(){return e},e}var Tt=Object(l.c)(xt()),At=q.a.div(ht()),qt=function(){var e=Object(u.b)();return Object(l.d)(At,null,Object(l.d)("div",{css:Tt,onMouseDown:function(t){var n=t.target;n&&e(ee(+n.getAttribute("data-frequency")))},onMouseUp:function(){e(ee(null))}},Object(l.d)("div",{"data-frequency":"261.626","data-note":"C"},Object(l.d)("div",{"data-frequency":"277.18","data-note":"C#"})),Object(l.d)("div",{"data-frequency":"293.665","data-note":"D"},Object(l.d)("div",{"data-frequency":"311.127"})),Object(l.d)("div",{"data-frequency":"329.628","data-note":"E"}),Object(l.d)("div",{"data-frequency":"349.228","data-note":"F"},Object(l.d)("div",{"data-frequency":"369.994"})),Object(l.d)("div",{"data-frequency":"391.995","data-note":"G"},Object(l.d)("div",{"data-frequency":"415.305"})),Object(l.d)("div",{"data-frequency":"440.000","data-note":"A"},Object(l.d)("div",{"data-frequency":"466.164"})),Object(l.d)("div",{"data-frequency":"493.883","data-note":"B"}),Object(l.d)("div",{"data-frequency":"523.251","data-note":"C"},Object(l.d)("div",{"data-frequency":"554.365"})),Object(l.d)("div",{"data-frequency":"587.330","data-note":"D"},Object(l.d)("div",{"data-frequency":"622.254"})),Object(l.d)("div",{"data-frequency":"659.255","data-note":"E"}),Object(l.d)("div",{"data-frequency":"698.457","data-note":"F"},Object(l.d)("div",{"data-frequency":"739.989"})),Object(l.d)("div",{"data-frequency":"783.991","data-note":"G"},Object(l.d)("div",{"data-frequency":"830.609"})),Object(l.d)("div",{"data-frequency":"880.000","data-note":"A"},Object(l.d)("div",{"data-frequency":"932.328"})),Object(l.d)("div",{"data-frequency":"987.767","data-note":"B"}),Object(l.d)("div",{"data-frequency":"1046.50","data-note":"C"})))},wt=n(22),kt=n(18),Ct=n(24),Vt=n(23),Nt=function(e){Object(Ct.a)(n,e);var t=Object(Vt.a)(n);function n(){var e;Object(wt.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={error:"",errorInfo:"",hasError:!1},e}return Object(kt.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log({error:e,errorInfo:t}),alert(e),this.setState({errorInfo:t})}},{key:"render",value:function(){return this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),n}(i.Component);function St(){return Object(l.d)(we,null,Object(l.d)(B.f,null,Object(l.d)(yt,null),Object(l.d)(ke,null,Object(l.d)(Nt,null,Object(l.d)(tt,null),Object(l.d)(nt,null),Object(l.d)(qt,null)))))}function Ft(){var e=Object(a.a)(['\n        @import url("https://fonts.googleapis.com/css2?family=Tomorrow&display=swap");\n        * {\n          box-sizing: border-box;\n        }\n        html,\n        body {\n          padding: 0;\n          margin: 0;\n          width: 100vw;\n          height: 100vh;\n          font-family: Tomorrow, sans-serif;\n          font-style: normal;\n          font-weight: 400;\n          font-size: 16px;\n          background-color: #000;\n        }\n        button {\n          font-family: Tomorrow, sans-serif;\n        }\n        .react-flow__controls-button {\n          width: 25px;\n          height: 25px;\n          opacity: 0.5;\n        }\n        .react-flow__handle {\n          width: 1rem;\n          height: 1rem;\n        }\n        .react-flow__node.audioNode {\n          border: 2px solid #212d40;\n          border-radius: 3px;\n          background-color: #212d40;\n          color: #fff;\n          padding: 10px;\n          &.selected {\n            border-color: #aebdd5;\n          }\n        }\n        .react-flow__edge {\n          .react-flow__edge-path {\n            stroke: #33c;\n          }\n          &.selected .react-flow__edge-path {\n            stroke-width: 2.5;\n            stroke: #aebdd5;\n          }\n        }\n      ']);return Ft=function(){return e},e}O.b.add(f.a,b.a,d.a,p.a,s.a),c.a.render(o.a.createElement(i.Fragment,null,o.a.createElement(l.a,{styles:Object(l.c)(Ft())}),o.a.createElement(u.a,{store:Te},o.a.createElement(St,null))),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.e83d75d0.chunk.js.map