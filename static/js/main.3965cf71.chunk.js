(this.webpackJsonpsynth=this.webpackJsonpsynth||[]).push([[0],{43:function(e,t,n){e.exports=n(56)},56:function(e,t,n){"use strict";n.r(t);var a=n(12),r=n.n(a),o=n(3),c=n(0),i=n.n(c),u=n(1),d=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var s=n(40),f=n(42),b=n(38),p=n(39),O=n(41),m=n(20),j=(n(53),n(4)),v=n(9);function g(){var e=Object(j.a)(["\n  background-color: transparent !important;\n  width: auto !important;\n  flex-shrink: 1 !important;\n  flex-grow: 0 !important;\n  border-width: 1px !important;\n  opacity: 0.5;\n  cursor: not-allowed !important;\n\n  div {\n    display: inline-block;\n    margin-left: 8px;\n    font-size: 0.8rem;\n    position: relative;\n  }\n\n  &:not([disabled]) {\n    cursor: pointer !important;\n    opacity: 1;\n    svg {\n      transition: 50ms;\n    }\n    &:hover {\n      svg {\n        transition: 50ms;\n        transform: scale(1.25);\n      }\n      div {\n        font-size: 0.85rem;\n        top: 1px;\n      }\n    }\n  }\n"]);return g=function(){return e},e}function h(){var e=Object(j.a)(["\n  padding: 8px 6px;\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n\n  > div {\n    align-items: center;\n    display: flex;\n    gap: 8px;\n  }\n"]);return h=function(){return e},e}function y(){var e=Object(j.a)(["\n  top: 0;\n  right: 0;\n  width: 380px;\n  position: fixed;\n  z-index: 200;\n  background-color: #000;\n  padding: 25px;\n  border-bottom-left-radius: 4px;\n  box-shadow: 5px 5px 15px 5px #000000;\n\n  a {\n    color: #66f;\n  }\n\n  h2 {\n    text-align: center;\n  }\n\n  ul {\n    line-height: 28px;\n    font-size: 1.1rem;\n    padding-left: 25px;\n  }\n  li {\n    margin-top: 12px;\n  }\n"]);return y=function(){return e},e}function x(){var e=Object(j.a)(["\n  flex-grow: 1;\n  background-color: var(--side-bg);\n  color: #fff;\n  border: 0 solid #000;\n  border-left-width: 2px;\n\n  .menuOpener {\n    position: fixed;\n    top: 6px;\n    right: 6px;\n    &:hover {\n      transform: rotate(90deg);\n      transition: 500ms;\n    }\n  }\n\n  > *:not(.brand):not(.menuOpener):not(.menu) {\n    border-top: 2px solid #000;\n    background-color: var(--widget-bg);\n    color: #fff;\n\n    input,\n    select,\n    button {\n      font-size: 0.95rem;\n      flex-grow: 1;\n      border-radius: 3px;\n      background-color: transparent;\n      border: 1px solid var(--input-border);\n      font-family: Roboto;\n      padding: 6px;\n      color: #fff;\n      &:focus {\n        border-color: var(--input-border-focus);\n        border-width: 2px;\n        padding: 5px;\n      }\n    }\n\n    select option {\n      background-color: var(--widget-bg);\n    }\n\n    button {\n      width: 100%;\n      background-color: var(--button-bg);\n      border-width: 2px;\n      border-style: outset;\n      cursor: pointer;\n      &:focus {\n        padding: 6px;\n      }\n    }\n  }\n"]);return x=function(){return e},e}function w(){var e=Object(j.a)(["\n  margin: 0;\n  padding: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n\n  &.rev {\n    flex-direction: row-reverse;\n\n    > div:last-of-type {\n      border-left-width: 0;\n      border-right-width: 2px;\n    }\n\n    .menuOpener {\n      left: 6px;\n      right: auto;\n    }\n\n    .menu {\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n      right: auto;\n      left: 0;\n    }\n  }\n"]);return w=function(){return e},e}function k(){var e=Object(j.a)(['\n  :root {\n    --graph-bg: #212d40;\n    --graph-bg-lines: #364156;\n    --side-bg: #11151c;\n    --side-default-width: 350px;\n    --widget-bg: #364156;\n    --input-border: #7d4e57;\n    --input-border-focus: #d66853;\n    --button-bg: #4f5f7d;\n    --node-bg: #11151c;\n    --node-selected-border: #d66853;\n  }\n\n  @import url("https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400&family=Tomorrow:wght@400;500&display=swap");\n  * {\n    box-sizing: border-box;\n  }\n  html,\n  body {\n    padding: 0;\n    margin: 0;\n    width: 100vw;\n    height: 100vh;\n    font-family: Roboto, sans-serif;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 16px;\n    overflow: hidden;\n  }\n']);return k=function(){return e},e}var T=Object(u.c)(k()),E=v.a.div(w()),S=v.a.div(x()),C=v.a.div(y()),N=v.a.div(h()),A=v.a.button(g()),F=n(6),q=n(15),I=n(5);function V(){var e=Object(j.a)(["\n  font-size: 0.8rem;\n  color: #999;\n  word-spacing: -1px;\n\n  button {\n    margin-left: 6px;\n  }\n"]);return V=function(){return e},e}function P(){var e=Object(j.a)(["\n  font-weight: 100;\n"]);return P=function(){return e},e}function M(){var e=Object(j.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 6px;\n  font-size: 0.95rem;\n  line-height: 1.35rem;\n"]);return M=function(){return e},e}function z(){var e=Object(j.a)(["\n  border: 0;\n  background: transparent;\n  color: #f33;\n  font-size: 0.7rem;\n  padding: 0;\n"]);return z=function(){return e},e}function R(){var e=Object(j.a)(["\n  margin: 15px 0 10px 0;\n  border: 0;\n  border-bottom: 1px dashed var(--node-bg);\n"]);return R=function(){return e},e}function B(){var e=Object(j.a)(["\n  font-family: Tomorrow, sans-serif;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 1.1rem;\n  margin: 12px 0;\n  &:first-of-type {\n    margin-top: 0;\n  }\n"]);return B=function(){return e},e}function _(){var e=Object(j.a)(["\n  font-family: Tomorrow, sans-serif;\n  font-style: normal;\n  font-weight: 400;\n  text-align: center;\n  font-size: 1.2rem;\n  margin: 2px 0 5px;\n"]);return _=function(){return e},e}function W(){var e=Object(j.a)(["\n  display: grid;\n  gap: 2px;\n  grid-template-columns: 0.8fr 1fr;\n  align-items: center;\n}\n"]);return W=function(){return e},e}function G(){var e=Object(j.a)(["\n  table {\n    select, input {\n      padding: 2px;\n      width: 60px;\n      &:focus {\n        padding: 1px;\n      }\n    }\n  }\n}\n"]);return G=function(){return e},e}function L(){var e=Object(j.a)(["\n  padding: 4px 6px;\n  border-radius: 3px 3px 2px 2px;\n  background-color: #364156;\n  // font-weight: 300;\n\n  input,\n  select,\n  button {\n    font-size: 0.95rem;\n    flex-grow: 1;\n    border-radius: 3px;\n    background-color: transparent;\n    border: 1px solid var(--input-border);\n    font-family: Roboto;\n    padding: 6px;\n    color: #fff;\n    &:focus {\n      border-color: var(--input-border-focus);\n      border-width: 2px;\n      padding: 5px;\n    }\n  }\n\n  select option {\n    background-color: var(--widget-bg);\n  }\n\n  button {\n    width: 100%;\n    background-color: var(--button-bg);\n    border-width: 2px;\n    border-style: outset;\n    cursor: pointer;\n    &:focus {\n      padding: 6px;\n    }\n  }\n"]);return L=function(){return e},e}var D=v.a.div(L()),J=v.a.div(G()),H=(Object(v.a)(J)(W()),v.a.div(_())),U=v.a.div(B()),K=v.a.hr(R()),Q=(v.a.button(z()),v.a.div(M())),X=v.a.span(P()),Z=v.a.div(V()),$=n(7),Y=function(e){var t=Object(c.useState)("OscillatorNode"===e?0:1),n=Object($.a)(t,1)[0],a=Object(c.useState)(1),r=Object($.a)(a,1)[0],o=Object(c.useState)((function(){switch(e){case"BiquadFilterNode":return{frequency:{automationRate:"a-rate",minValue:10,maxValue:24e3,defaultValue:350},detune:{automationRate:"a-rate",defaultValue:0,minValue:-153600,maxValue:153600},Q:{automationRate:"a-rate",defaultValue:1,minValue:1e-4,maxValue:1e3},gain:{automationRate:"a-rate",defaultValue:0,minValue:-40,maxValue:40}};case"GainNode":return{gain:{automationRate:"a-rate",minValue:0,maxValue:1,defaultValue:1}};case"OscillatorNode":return{frequency:{automationRate:"a-rate",minValue:-24e3,maxValue:24e3,defaultValue:440},detune:{automationRate:"a-rate",defaultValue:0,minValue:-153600,maxValue:153600}}}return{}}));return{numberOfInputs:n,numberOfOutputs:r,audioParams:Object($.a)(o,1)[0]}},ee=Object(q.b)({name:"ux",initialState:{menu:!1,editMode:!0,loadElements:null,delSelected:!1,sideLeft:!1},reducers:{toggleMenu:function(e){e.menu=!e.menu},toggleEditMode:function(e){e.editMode=!e.editMode},toggleDelSelected:function(e){e.delSelected=!e.delSelected},toggleSideLeft:function(e){e.sideLeft=!e.sideLeft},setLoadElements:function(e,t){var n=t.payload;e.loadElements=n}}}),te=function(e){return e.ux.menu},ne=function(e){return e.ux.editMode},ae=function(e){return e.ux.delSelected},re=function(e){return e.ux.sideLeft},oe=function(e){return e.ux.loadElements},ce=ee.actions,ie=ce.toggleMenu,ue=ce.toggleEditMode,de=ce.toggleDelSelected,le=ce.toggleSideLeft,se=ce.setLoadElements,fe=ee.reducer,be=n(10),pe=Object(c.memo)((function(e){var t=e.numberOfOutputs;return i.a.createElement(c.Fragment,null,new Array(t).fill(0).map((function(e,n){return i.a.createElement(be.d,{key:"output".concat(n),type:"source",position:be.e.Bottom,style:{left:"".concat(100/(t+1)*(n+1),"%")}})})))})),Oe=Object(c.memo)((function(e){var t=e.numberOfInputs;return i.a.createElement(c.Fragment,null,new Array(t).fill(0).map((function(e,n){return i.a.createElement(be.d,{key:"input".concat(n),type:"target",position:be.e.Top,style:{left:"".concat(100/(t+1)*(n+1),"%")}})})))})),me=[32,64,128,256,512,1024,2048,4096,8192,16384,32768],je=Object(q.b)({name:"activeSound",initialState:{name:"No Name",playFrequency:null,analysers:[],gains:[],biquadFilters:[],oscillators:[]},reducers:{setName:function(e,t){var n=t.payload;e.name=n},setPlayFrequency:function(e,t){var n=t.payload;e.playFrequency=n},addConnect:function(e,t){var n,a=t.payload;null===(n=[e.analysers,e.gains,e.biquadFilters,e.oscillators].flat().find((function(e){return e.id===a.source})))||void 0===n||n.connectIds.push(a.target)},delConnect:function(e,t){var n=t.payload,a=[e.analysers,e.gains,e.biquadFilters,e.oscillators].flat().find((function(e){return e.id===n.source}));void 0!==a&&(a.connectIds=a.connectIds.filter((function(e){return e!==n.target})))},emptyNodes:function(e){e.analysers=[],e.gains=[],e.biquadFilters=[],e.oscillators=[]},setAnalyser:function(e,t){var n=t.payload,a=e.analysers.findIndex((function(e){return e.id===n.id}));-1===a?e.analysers.push(n):e.analysers[a]=n},delAnalyser:function(e,t){var n=t.payload;e.analysers=e.analysers.filter((function(e){return e.id!==n}))},setGain:function(e,t){var n=t.payload,a=e.gains.findIndex((function(e){return e.id===n.id}));-1===a?e.gains.push(n):e.gains[a]=n},delGain:function(e,t){var n=t.payload;e.gains=e.gains.filter((function(e){return e.id!==n}))},setBiquadFilter:function(e,t){var n=t.payload,a=e.biquadFilters.findIndex((function(e){return e.id===n.id}));-1===a?e.biquadFilters.push(n):e.biquadFilters[a]=n},delBiquadFilter:function(e,t){var n=t.payload;e.biquadFilters=e.biquadFilters.filter((function(e){return e.id!==n}))},setOscillator:function(e,t){var n=t.payload,a=e.oscillators.findIndex((function(e){return e.id===n.id}));-1===a?e.oscillators.push(n):e.oscillators[a]=n},delOscillator:function(e,t){var n=t.payload;e.oscillators=e.oscillators.filter((function(e){return e.id!==n}))}}}),ve=function(e){return e.activeSound.name},ge=function(e){var t=e.activeSound;return{analysers:t.analysers,gains:t.gains,biquadFilters:t.biquadFilters,oscillators:t.oscillators}},he=function(e){var t=e.activeSound;return function(e){return t.analysers.find((function(t){return t.id===e}))}},ye=function(e){return e.activeSound.analysers},xe=function(e){var t=e.activeSound;return function(e){return t.gains.find((function(t){return t.id===e}))}},we=function(e){var t=e.activeSound;return function(e){return t.biquadFilters.find((function(t){return t.id===e}))}},ke=function(e){var t=e.activeSound;return function(e){return t.oscillators.find((function(t){return t.id===e}))}},Te=je.actions,Ee=Te.setName,Se=Te.setPlayFrequency,Ce=Te.addConnect,Ne=Te.delConnect,Ae=Te.emptyNodes,Fe=Te.setAnalyser,qe=Te.delAnalyser,Ie=Te.setGain,Ve=Te.delGain,Pe=Te.setBiquadFilter,Me=Te.delBiquadFilter,ze=Te.setOscillator,Re=Te.delOscillator,Be=je.reducer,_e=n(18),We=n.n(_e),Ge=n(25),Le=n(35),De=n(36),Je=function(e,t){return{id:e.id,connectIds:[],type:t,attrs:{},params:[]}},He=function(){function e(t){Object(Le.a)(this,e),this.audioContext=null,this.nodes=new Map,this.audioContext=t}return Object(De.a)(e,[{key:"destroyAudioNodes",value:function(){this.nodes.forEach((function(e){e.audioNode=void 0})),this.nodes.clear(),this.nodes=new Map}},{key:"applyParams",value:function(e,t,n){null!==this.audioContext&&(void 0===n&&(n=this.audioContext.currentTime),t.forEach((function(t){var a,r=Object(F.a)(t.values);["setValueAtTime","linearRampToValueAtTime","exponentialRampToValueAtTime","setTargetAtTime","setValueCurveAtTime"].includes(t.call)&&(r[1]+=n),["cancelScheduledValues","cancelAndHoldAtTime"].includes(t.call)&&(r[0]+=n),(a=e[t.name])[t.call].apply(a,Object(F.a)(r))})))}},{key:"setGain",value:function(e){var t=this.nodes.get(e.id)||Je(e,"GainNode");t.connectIds=e.connectIds,t.params=e.params,this.nodes.has(e.id)||this.nodes.set(e.id,t)}},{key:"setAnalyser",value:function(e){var t=this.nodes.get(e.id)||Je(e,"AnalyserNode");t.connectIds=e.connectIds,t.attrs.fftSize=e.fftSize,void 0!==t.audioNode&&(t.audioNode.fftSize=t.attrs.fftSize),this.nodes.has(e.id)||this.nodes.set(e.id,t)}},{key:"setBiquadFilter",value:function(e){var t=this.nodes.get(e.id)||Je(e,"BiquadFilterNode");t.connectIds=e.connectIds,t.attrs.type=e.type,t.params=e.params,void 0!==t.audioNode&&(t.audioNode.type=t.attrs.type),this.nodes.has(e.id)||this.nodes.set(e.id,t)}},{key:"setOscillator",value:function(e){var t=this.nodes.get(e.id)||Je(e,"OscillatorNode");t.connectIds=e.connectIds,t.attrs.type=e.type,t.params=e.params,this.nodes.has(e.id)||this.nodes.set(e.id,t)}},{key:"delNode",value:function(e){this.nodes.delete(e)}},{key:"addConnect",value:function(e,t){var n=this.nodes.get(e);n&&(n.connectIds=[].concat(Object(F.a)(n.connectIds),[t]))}},{key:"delConnect",value:function(e,t){var n=this.nodes.get(e);n&&(n.connectIds=n.connectIds.filter((function(e){return e!==t})))}},{key:"play",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01;if(null!==this.audioContext){var a=this.audioContext.currentTime+n;this.nodes.forEach((function(n){if("OscillatorNode"===n.type)n.audioNode=t.audioContext.createOscillator(),n.audioNode.type=n.attrs.type,n.audioNode.frequency.setValueAtTime(e,0),n.audioNode.start(a);else if(void 0===n.audioNode)switch(n.type){case"AnalyserNode":n.audioNode=t.audioContext.createAnalyser(),n.audioNode.fftSize=n.attrs.fftSize;break;case"BiquadFilterNode":n.audioNode=t.audioContext.createBiquadFilter(),n.audioNode.type=n.attrs.type;break;case"GainNode":n.audioNode=t.audioContext.createGain()}n.params.length>0&&t.applyParams(n.audioNode,n.params,a)})),this.nodes.forEach((function(e){e.connectIds.forEach((function(n){e.audioNode.connect(n===Qe?t.audioContext.destination:t.nodes.get(n).audioNode)}))}))}}},{key:"stop",value:function(){var e=this;null!==this.audioContext&&this.nodes.forEach((function(t){void 0!==t.audioNode&&("OscillatorNode"===t.type&&t.audioNode.stop(),t.connectIds.forEach((function(n){var a,r;n===Qe?null===(a=t.audioNode)||void 0===a||a.disconnect():null===(r=t.audioNode)||void 0===r||r.disconnect(e.nodes.get(n).audioNode)})),void 0!==t.type&&void 0!==t.audioNode&&(t.audioNode=void 0))}))}}]),e}(),Ue=function(e,t){return e===t},Ke=function(e){return Object.keys(e).some((function(e){return"destination"===e}))},Qe="destination";AudioContext=window.AudioContext||window.webkitAudioContext;var Xe=new AudioContext,Ze=new He(Xe),$e=function(){return function(e){return function(t){if(t.type.startsWith("activeSound/")&&!t.type.endsWith("setName"))switch(t.type.substring(t.type.indexOf("/")+1)){case"emptyNodes":Ze.destroyAudioNodes();break;case"setGain":Ze.setGain(t.payload);break;case"setAnalyser":Ze.setAnalyser(t.payload);break;case"setBiquadFilter":Ze.setBiquadFilter(t.payload);break;case"setOscillator":Ze.setOscillator(t.payload);break;case"delGain":case"delAnalyser":case"delBiquadFilter":case"delOscillator":Ze.delNode(t.payload);break;case"addConnect":Ze.addConnect(t.payload.source,t.payload.target);break;case"delConnect":Ze.delConnect(t.payload.source,t.payload.target);break;case"setPlayFrequency":null===t.payload?Ze.stop():Ze.play(t.payload)}e(t)}}},Ye=Object(q.b)({name:"sounds",initialState:[],reducers:{addSound:function(e,t){var n=t.payload,a=n.name,r=n.description;e.push({name:a,description:r})}}}),et=(Ye.actions.addSound,Ye.reducer),tt=Object(q.a)({reducer:{activeSound:Be,sounds:et,ux:fe},middleware:[].concat(Object(F.a)(Object(q.c)()),[$e])}),nt=n(37),at=n(11),rt=n(8);function ot(){var e=Object(j.a)(["\n  background-color: #742a1b;\n"]);return ot=function(){return e},e}function ct(){var e=Object(j.a)(["\n  background-color: #455e87;\n"]);return ct=function(){return e},e}function it(){var e=Object(j.a)(["\n  position: absolute;\n  gap: 2px;\n  top: 8px;\n  right: 10px;\n  z-index: 4;\n  display: flex;\n  flex-direction: column;\n  .text {\n    overflow: hidden;\n    white-space: nowrap;\n    width: 0;\n    transition: 60ms;\n  }\n  &:hover .text {\n    width: 165px;\n    transition: 120ms;\n  }\n"]);return it=function(){return e},e}function ut(){var e=Object(j.a)(["\n  background-color: #364156;\n  border-color: #7d4e57;\n  color: #fff;\n  font-family: Tomorrow;\n  font-size: 0.85rem;\n  border-radius: 3px;\n  padding: 4px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  svg {\n    transition: 50ms;\n  }\n  &:hover svg {\n    transition: 50ms;\n    transform: scale(1.25);\n  }\n"]);return ut=function(){return e},e}function dt(){var e=Object(j.a)(["\n  .react-flow__node.audioNode {\n    box-shadow: 1px 1px 4px 1px #333;\n  }\n"]);return dt=function(){return e},e}function lt(){var e=Object(j.a)(["\n  .react-flow__node.audioNode {\n    cursor: default;\n  }\n"]);return lt=function(){return e},e}function st(){var e=Object(j.a)(["\n  .react-flow {\n    background-color: var(--graph-bg);\n    resize: horizontal;\n    min-width: 80px;\n    width: calc(100% - var(--side-default-width));\n  }\n\n  .react-flow__node.audioNode {\n    min-width: 165px;\n    border-radius: 4px;\n    background-color: var(--node-bg);\n    color: #fff;\n    padding: 3px;\n\n    &.selected {\n      border: 2px solid var(--node-selected-border);\n      padding: 1px;\n    }\n\n    &.output {\n      font-family: Tomorrow;\n      font-size: 1rem;\n      padding: 8px;\n    }\n  }\n\n  .react-flow__handle {\n    width: 0.92rem;\n    height: 0.92rem;\n    &.react-flow__handle-top {\n      top: -0.64rem;\n      background-color: #e62020;\n    }\n    &.react-flow__handle-bottom {\n      bottom: -0.64rem;\n      background-color: #74c365;\n    }\n  }\n  .react-flow__edge {\n    .react-flow__edge-path {\n      stroke-width: 2;\n      stroke: #7d4e57;\n    }\n    &.selected .react-flow__edge-path {\n      stroke-width: 3;\n      stroke: #d66853;\n    }\n  }\n  .react-flow__controls-button {\n    width: 25px;\n    height: 25px;\n    opacity: 0.5;\n  }\n"]);return st=function(){return e},e}var ft=Object(u.c)(st()),bt=Object(u.c)(lt()),pt=Object(u.c)(dt()),Ot=v.a.button(ut()),mt=v.a.div(it()),jt=Object(v.a)(Ot)(ct()),vt=Object(v.a)(Ot)(ot()),gt=function(e){var t=e.icon,n=e.onClick,a=e.mode,r=void 0===a?"default":a,o=e.children;switch(r){case"mode":return Object(u.d)(jt,{onClick:n},Object(u.d)("div",{className:"text"},o),Object(u.d)(rt.a,{fixedWidth:!0,icon:t,size:"lg"}));case"del":return Object(u.d)(vt,{onClick:n},Object(u.d)("div",{className:"text"},o),Object(u.d)(rt.a,{fixedWidth:!0,icon:t,size:"lg"}));default:return Object(u.d)(Ot,{onClick:n},Object(u.d)("div",{className:"text"},o),Object(u.d)(rt.a,{fixedWidth:!0,icon:t,size:"lg"}))}},ht=function(e,t){return Math.random()*(t-e)+e},yt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t/2;return{x:ht(0,e-200),y:n?ht(a,t):ht(0,a)}},xt=function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g," "),t.join(".")},wt=function(e){var t=e.audioParams,n=e.addParam,a=e.hideButton;return Object(u.d)(c.Fragment,null,Object(u.d)(U,null,"Defaults"),Object.entries(t).map((function(e){var t=Object($.a)(e,2),r=t[0],o=t[1];return Object(u.d)(Q,{key:r},Object(u.d)("div",null,Object(u.d)(X,null,r,":")," ",o.defaultValue),Object(u.d)(Z,null,o.minValue<=Number.MIN_SAFE_INTEGER?"\u221e":xt(o.minValue)," \u2014"," ",o.maxValue>=Number.MAX_SAFE_INTEGER?"\u221e":xt(o.maxValue),!a&&Object(u.d)(A,{onClick:function(){return n(r,o.defaultValue)}},Object(u.d)(rt.a,{icon:["fad","layer-plus"],size:"lg"}))))})))},kt=function(e){var t=e.params,n=e.showCoord,a=Object(c.useState)(0),r=Object($.a)(a,2),o=r[0],i=r[1],d=Object(c.useState)(0),l=Object($.a)(d,2),s=l[0],f=l[1],b=Object(c.useState)(0),p=Object($.a)(b,2),O=p[0],m=p[1],j=Object(c.useState)([]),v=Object($.a)(j,2),g=v[0],h=v[1];return Object(c.useEffect)((function(){if(n){var e=t.map((function(e){return e.values})).flat(2);f(Math.min.apply(Math,Object(F.a)(e))),m(Math.max.apply(Math,Object(F.a)(e)));var a=[];i(t.reduce((function(e,t){var n,r=e;switch(t.call){case"setValueAtTime":case"linearRampToValueAtTime":case"exponentialRampToValueAtTime":n=t.values[0],r+=t.values[1];break;case"setTargetAtTime":n=t.values[0],r+=t.values[2];break;case"setValueCurveAtTime":n=Math.max.apply(Math,Object(F.a)(t.values[0])),r+=t.values[2]}return a.push({time:r,value:n}),r}),0)),h(a)}}),[t,n]),0===t.length?Object(u.d)(c.Fragment,null):Object(u.d)(c.Fragment,null,Object(u.d)(U,null,"Adjusted Params"),n&&o>0&&Object(u.d)("div",null,Object(u.d)("svg",{viewBox:"0 0 ".concat(o," ").concat(s+O),css:{width:"100%",height:50,boxShadow:"inset 0 0 25px red"}},g.map((function(e){return Object(u.d)("circle",{key:JSON.stringify(e),cx:e.time,cy:e.value,r:(s+O)/10,fill:"#11151c"})}))),Object(u.d)("div",{css:{fontSize:"0.8rem",color:"#D66853",marginTop:-18}},"maxTime: ",o,", minValue: ",s,", maxValue: ",O)),t.map((function(e,t){return Object(u.d)(Q,{key:JSON.stringify(e)+t.toString()},Object(u.d)("div",null,Object(u.d)(X,null,e.name,":")," ",e.values.join(", ")),Object(u.d)(Z,null,e.call))})))},Tt=["setValueAtTime","linearRampToValueAtTime","exponentialRampToValueAtTime","setTargetAtTime","setValueCurveAtTime"],Et=function(e){var t,n=e.audioParams,a=e.name,r=e.call,o=e.values,i=e.onChange,d=function(e){var t=+e.currentTarget.getAttribute("data-nth"),n=e.currentTarget.valueAsNumber;if(!Number.isNaN(n)){var a=Object(F.a)(o);a[t]=n,i({values:a})}},l=function(e){return o[e]};return Object(u.d)(c.Fragment,null,Object(u.d)("td",null,Object(u.d)("select",{value:a,onChange:function(e){return i({name:e.currentTarget.value})}},Object.keys(n).map((function(e){return Object(u.d)("option",{key:e,value:e},e)})))),Object(u.d)("td",null,Object(u.d)("select",{value:r,onChange:function(e){return i({call:e.currentTarget.value})}},Tt.map((function(e){return Object(u.d)("option",{key:e,value:e},e)})))),["setValueAtTime","linearRampToValueAtTime","exponentialRampToValueAtTime"].includes(r)&&Object(u.d)(c.Fragment,null,Object(u.d)("td",null,Object(u.d)("input",{type:"number",value:l(0),step:.1,"data-nth":0,onChange:d})),Object(u.d)("td",null,Object(u.d)("input",{type:"number",value:l(1),step:.1,min:0,"data-nth":1,onChange:d}))),["setTargetAtTime"].includes(r)&&Object(u.d)(c.Fragment,null,Object(u.d)("td",null,Object(u.d)("input",{type:"number",value:l(0),"data-nth":0,onChange:d})),Object(u.d)("td",null,Object(u.d)("label",null),Object(u.d)("input",{type:"number",value:l(1),"data-nth":1,onChange:d,title:"startTime (t+)"}),Object(u.d)("input",{type:"number",value:l(2),"data-nth":2,onChange:d,title:"timeConstant"}))),["setValueCurveAtTime"].includes(r)&&Object(u.d)(c.Fragment,null,Object(u.d)("td",null,Object(u.d)("input",{type:"text",value:(t=0,Array.isArray(o[t])?o[t].join(","):o[t].toString()),"data-nth":0,onChange:function(e){var t=+e.currentTarget.getAttribute("data-nth"),n=e.currentTarget.value.split(",").map((function(e){return+e})),a=Object(F.a)(o);a[t]=n,i({values:a})},title:"values (comma separated)"})),Object(u.d)("td",null,Object(u.d)("input",{type:"number",value:l(1),"data-nth":1,onChange:d,title:"startTime (t+)"}),Object(u.d)("input",{type:"number",value:l(2),"data-nth":2,onChange:d,title:"duration"}))))},St=function(e){var t=e.audioParams,n=e.params,a=e.setParams;return Object(u.d)(c.Fragment,null,Object(u.d)("table",null,Object(u.d)("thead",null,Object(u.d)("tr",null,Object(u.d)("th",null,Object(u.d)(rt.a,{icon:["fad","piano-keyboard"],title:"Param Name"})),Object(u.d)("th",null,Object(u.d)(rt.a,{icon:["fad","waveform-path"],title:"Call Type"})),Object(u.d)("th",null,Object(u.d)(rt.a,{icon:["fad","sliders-h"],title:"Value"})),Object(u.d)("th",null,Object(u.d)(rt.a,{icon:["fad","hourglass-start"],title:"Start (time+)"})),Object(u.d)("th",null))),Object(u.d)("tbody",null,n.map((function(e,r){return Object(u.d)("tr",{key:e.name+e.call+r},Object(u.d)(Et,Object.assign({audioParams:t},e,{onChange:function(e){return function(e,t){var r=Object(F.a)(n);if(void 0!==t.call){var o=["setValueAtTime","linearRampToValueAtTime","exponentialRampToValueAtTime"];o.includes(t.call)&&(o.includes(r[e].call)||(t.values=[0,0])),["setTargetAtTime"].includes(t.call)&&(t.values=[0,0,0]),["setValueCurveAtTime"].includes(t.call)&&(t.values=[[0],0,0])}r[e]=Object(I.a)(Object(I.a)({},r[e]),t),a(r)}(r,e)}})),Object(u.d)("td",null,Object(u.d)(A,{onClick:function(){return function(e){var t=Object(F.a)(n);t.splice(e,1),a(t)}(r)}},Object(u.d)(rt.a,{icon:["fad","trash"]}))))})))))},Ct=["allpass","bandpass","highpass","highshelf","lowpass","lowshelf","notch","peaking"],Nt=["sine","square","sawtooth","triangle"],At=function(e){var t=e.addAudioNode,n=e.delSelected,a=Object(o.b)(),r=Object(o.c)(ne);return Object(u.d)(mt,null,Object(u.d)(gt,{mode:"mode",onClick:function(){return a(ue())},icon:["fas",r?"edit":"project-diagram"]},r?Object(u.d)(c.Fragment,null,"To View ",Object(u.d)("u",null,"m"),"ode"):Object(u.d)(c.Fragment,null,"To Edit ",Object(u.d)("u",null,"m"),"ode")),Object(u.d)(gt,{onClick:t("oscillator"),icon:["fad","wave-sine"]},"Add Oscillator"),Object(u.d)(gt,{onClick:t("gain"),icon:["fad","volume"]},"Add Gain"),Object(u.d)(gt,{onClick:t("biquadfilter"),icon:["fad","filter"]},"Add Biquad Filter"),Object(u.d)(gt,{onClick:t("analyser"),icon:["fad","analytics"]},"Add Analyser"),Object(u.d)(gt,{mode:"del",onClick:n,icon:["fad","trash-alt"]},"Remove Selected"))},Ft={biquadfilter:function(e){var t=e.id,n=e.data,a=Object(c.useMemo)((function(){var e,a,r;return{id:t,connectIds:null!==(e=null===n||void 0===n?void 0:n.connectIds)&&void 0!==e?e:[],type:null!==(a=null===n||void 0===n?void 0:n.type)&&void 0!==a?a:"lowpass",params:null!==(r=null===n||void 0===n?void 0:n.params)&&void 0!==r?r:[]}}),[t,n]),r=Object(o.c)(ne),i=Y("BiquadFilterNode"),d=Object(o.b)(),l=Object(o.c)(we)(t)||a;Object(c.useEffect)((function(){return d(Pe(l)),function(){d(Me(t))}}),[]);var s=function(e){d(Pe(Object(I.a)(Object(I.a)({},l),{},{type:e.currentTarget.value})))},f=function(e){d(Pe(Object(I.a)(Object(I.a)({},l),{},{params:e})))};return Object(u.d)(c.Fragment,null,Object(u.d)(Oe,{numberOfInputs:i.numberOfInputs}),Object(u.d)(H,null,"Biquad Filter #",t),Object(u.d)(D,null,r?Object(u.d)(c.Fragment,null,Object(u.d)(wt,{audioParams:i.audioParams,addParam:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Object(F.a)(l.params);n.push({name:e||Object.keys(i.audioParams)[0],call:"setValueAtTime",values:[t,0]}),f(n)}}),Object(u.d)(U,null,"Type"),Object(u.d)(J,null,Object(u.d)("div",{css:{columnCount:2,fontWeight:300,textTransform:"capitalize"}},Ct.map((function(e){return Object(u.d)("label",{key:e,css:{display:"block"}},Object(u.d)("input",{type:"radio",defaultValue:e,checked:l.type===e,onChange:s}),e)}))),l.params.length>0&&Object(u.d)(c.Fragment,null,Object(u.d)(K,null),Object(u.d)(St,{audioParams:i.audioParams,params:l.params,setParams:f})))):Object(u.d)("div",null,Object(u.d)(Q,{css:{textTransform:"capitalize"}},Object(u.d)(X,null,"Type:")," ",l.type),Object(u.d)(kt,{params:l.params}))),Object(u.d)(pe,{numberOfOutputs:i.numberOfOutputs}))},oscillator:function(e){var t=e.id,n=e.data,a=Object(c.useMemo)((function(){var e,a,r;return{id:t,connectIds:null!==(e=null===n||void 0===n?void 0:n.connectIds)&&void 0!==e?e:[],type:null!==(a=null===n||void 0===n?void 0:n.type)&&void 0!==a?a:Nt[0],params:null!==(r=null===n||void 0===n?void 0:n.params)&&void 0!==r?r:[]}}),[t,n]),r=Object(o.c)(ne),i=Y("OscillatorNode"),d=Object(o.b)(),l=Object(o.c)(ke)(t)||a;Object(c.useEffect)((function(){return d(ze(l)),function(){d(Re(t))}}),[]);var s=function(e){d(ze(Object(I.a)(Object(I.a)({},l),{},{type:e.currentTarget.value})))},f=function(e){d(ze(Object(I.a)(Object(I.a)({},l),{},{params:e})))};return Object(u.d)(c.Fragment,null,i.numberOfInputs>0&&Object(u.d)(Oe,{numberOfInputs:i.numberOfInputs}),Object(u.d)(H,null,"Oscillator #",t),Object(u.d)(D,null,r?Object(u.d)(c.Fragment,null,Object(u.d)(wt,{audioParams:i.audioParams,addParam:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Object(F.a)(l.params);n.push({name:e||Object.keys(i.audioParams)[0],call:"setValueAtTime",values:[t,0]}),f(n)}}),Object(u.d)(U,null,"Type"),Object(u.d)(J,{css:{marginTop:4}},Object(u.d)("div",{css:{columnCount:2,fontWeight:300}},Nt.map((function(e){return Object(u.d)("label",{key:e,css:{display:"block"}},Object(u.d)("input",{type:"radio",defaultValue:e,checked:l.type===e,onChange:s}),e)}))),l.params.length>0&&Object(u.d)(c.Fragment,null,Object(u.d)(K,null),Object(u.d)(St,{audioParams:i.audioParams,params:l.params,setParams:f})))):Object(u.d)("div",null,Object(u.d)(Q,{css:{textTransform:"capitalize"}},Object(u.d)(X,null,"Type:")," ",l.type),Object(u.d)(kt,{params:l.params}))),Object(u.d)(pe,{numberOfOutputs:i.numberOfOutputs}))},analyser:function(e){var t=e.id,n=e.data,a=Object(c.useMemo)((function(){var e,a,r,o;return{id:t,connectIds:null!==(e=null===n||void 0===n?void 0:n.connectIds)&&void 0!==e?e:[],fftSize:null!==(a=null===n||void 0===n?void 0:n.fftSize)&&void 0!==a?a:me[6],color:null!==(r=null===n||void 0===n?void 0:n.color)&&void 0!==r?r:"#d66853",lineWidth:null!==(o=null===n||void 0===n?void 0:n.lineWidth)&&void 0!==o?o:2}}),[t,n]),r=Object(o.c)(ne),i=Y("AnalyserNode"),d=Object(o.b)(),l=Object(o.c)(he)(t)||a;Object(c.useEffect)((function(){return d(Fe(l)),function(){d(qe(t))}}),[]);return Object(u.d)(c.Fragment,null,Object(u.d)(Oe,{numberOfInputs:i.numberOfInputs}),Object(u.d)(H,null,"Analyser #",t),Object(u.d)(D,null,r?Object(u.d)(N,null,Object(u.d)("div",null,Object(u.d)("label",{htmlFor:"a1".concat(t),css:{flexGrow:1}},"FFT Size"),Object(u.d)("select",{id:"a1".concat(t),value:l.fftSize,onChange:function(e){d(Fe(Object(I.a)(Object(I.a)({},l),{},{fftSize:+e.currentTarget.value})))}},me.map((function(e){return Object(u.d)("option",{key:e,value:e},e)})))),Object(u.d)("div",null,Object(u.d)("label",{htmlFor:"a2{id}",css:{flexGrow:1}},"Colour"),Object(u.d)("input",{id:"a2".concat(t),type:"color",value:l.color,onChange:function(e){d(Fe(Object(I.a)(Object(I.a)({},l),{},{color:e.currentTarget.value})))}})),Object(u.d)("div",null,Object(u.d)("label",{htmlFor:"a3".concat(t),css:{flexGrow:1}},"Line Width"),Object(u.d)("input",{id:"a3".concat(t),type:"range",min:1,max:50,value:l.lineWidth,onChange:function(e){d(Fe(Object(I.a)(Object(I.a)({},l),{},{lineWidth:e.currentTarget.valueAsNumber})))}}))):Object(u.d)(c.Fragment,null,Object(u.d)(Q,null,Object(u.d)(X,null,"FFT Size:")," ",l.fftSize),Object(u.d)(Q,null,Object(u.d)(X,null,"Line:"),Object(u.d)("div",{css:{height:l.lineWidth,backgroundColor:l.color,width:"100%"}})))),Object(u.d)(pe,{numberOfOutputs:i.numberOfOutputs}))},gain:function(e){var t=e.id,n=e.data,a=Object(c.useMemo)((function(){var e,a;return{id:t,connectIds:null!==(e=null===n||void 0===n?void 0:n.connectIds)&&void 0!==e?e:[],params:null!==(a=null===n||void 0===n?void 0:n.params)&&void 0!==a?a:[]}}),[t,n]),r=Object(o.c)(ne),i=Y("GainNode"),d=Object(o.b)(),l=Object(o.c)(xe)(t)||a;Object(c.useEffect)((function(){return d(Ie(l)),function(){d(Ve(t))}}),[]);var s=function(e){d(Ie(Object(I.a)(Object(I.a)({},l),{},{params:e})))};return Object(u.d)(c.Fragment,null,Object(u.d)(Oe,{numberOfInputs:i.numberOfInputs}),Object(u.d)(H,null,"Gain #",t),Object(u.d)(D,null,(r||0===l.params.length)&&Object(u.d)(wt,{audioParams:i.audioParams,addParam:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Object(F.a)(l.params);n.push({name:e||Object.keys(i.audioParams)[0],call:"setValueAtTime",values:[t,0]}),s(n)},hideButton:!r}),Object(u.d)(kt,{params:l.params,showCoord:!0}),r&&Object(u.d)(c.Fragment,null,l.params.length>0&&Object(u.d)(J,null,Object(u.d)(K,null),Object(u.d)(St,{audioParams:i.audioParams,params:l.params,setParams:s})))),Object(u.d)(pe,{numberOfOutputs:i.numberOfOutputs}))}},qt={id:Qe,data:{label:"Audio Output"},type:"output",connectable:!0,selectable:!1,position:{x:0,y:0},className:"audioNode output"},It=function(){var e=Object(o.b)(),t=Object(o.c)(oe),n=Object(o.c)(ne),a=Object(o.c)(ae),r=Object(be.l)((function(e){return e.width}),Ue),i=Object(be.l)((function(e){return e.height}),Ue),d=Object(c.useState)([]),l=Object($.a)(d,2),s=l[0],f=l[1],b=Object(c.useRef)(null),p=Object(c.useRef)(1);Object(c.useEffect)((function(){t&&(f(t),p.current=function(e){var t;return+(null===(t=e.filter((function(e){return Object(be.j)(e)})).filter((function(e){return e.id!==Qe})).sort((function(e,t){return+t.id-+e.id}))[0])||void 0===t?void 0:t.id)+1||1}(t),e(se(null)))}),[t,e]),Object(c.useEffect)((function(){r>0&&i>0&&0===s.length&&(qt.position={x:r/2,y:i/2},f([qt]))}),[r,i,s]),Object(c.useEffect)((function(){a&&(O(),e(de()))}),[a]);var O=function(){null!==b.current&&(f(Object(be.k)(b.current,s)),b.current.filter((function(e){return Object(be.i)(e)})).forEach((function(t){e(Ne({source:t.source,target:t.target}))})),b.current=null)};return Object(u.d)(c.Fragment,null,Object(u.d)(u.a,{styles:ft}),n?Object(u.d)(u.a,{styles:bt}):Object(u.d)(u.a,{styles:pt}),Object(u.d)(be.h,{elements:s,onConnect:function(t){null!==t.source&&null!==t.target&&(f((function(e){return Object(be.g)(t,e)})),e(Ce({source:t.source,target:t.target})))},nodeTypes:Ft,nodesDraggable:!n,onSelectionChange:function(e){return b.current=e},snapGrid:[16,16],snapToGrid:!0,onlyRenderVisibleNodes:!1,connectionLineStyle:{stroke:"#71474e"}},Object(u.d)(be.c,{showInteractive:!1}),Object(u.d)(be.a,{variant:n?be.b.Dots:be.b.Lines,color:"#364156",gap:32,size:1}),Object(u.d)(At,{addAudioNode:function(e){return function(){return f([].concat(Object(F.a)(s),[{id:(p.current++).toString(),type:e,className:"audioNode",position:yt(r,i)}]))}},delSelected:O})))},Vt=function(){var e=Object(o.b)(),t=function(){var e=Object(Ge.a)(We.a.mark((function e(t){var n,a;return We.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(window.location.pathname,"/samples/").concat(t,".json"));case 3:if(!(n=e.sent).ok){e.next=9;break}return e.next=7,n.json();case 7:a=e.sent,Ke(a)&&(localStorage.setItem(t,JSON.stringify(a)),at.c.success("".concat(t," Loaded")));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),at.c.error("".concat(t," failed to load. ").concat(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.d)(C,{className:"menu",onMouseLeave:function(){return e(ie())}},Object(u.d)("h2",null,"MENU"),Object(u.d)("ul",null,Object(u.d)("li",null,"Refresh often because something is not right yet. Load samples below with the buttons and select from the dropdown to have a look. Crash and Refresh. =] (This version only deployed for testing purposes.)"),Object(u.d)("li",null,"Open poorly managed"," ",Object(u.d)("a",{href:"https://github.com/SubZtep/synth/wiki",target:"_blank",rel:"noopener noreferrer"},"Wiki page"),"."),Object(u.d)("li",null,"Preload ",Object(u.d)("button",{onClick:function(){return t("Kick")}},"Kick")," and"," ",Object(u.d)("button",{onClick:function(){return t("HiHat")}},"HiHat \ud83d\udc1b")," sounds to its name in local storage."),Object(u.d)("li",null,Object(u.d)("button",{onClick:function(){return e(le())}},"Switch")," sidebar position between left and right.")))},Pt=function(){var e=Object(o.c)(te),t=Object(o.b)(),n=Object(c.useRef)(null);return Object(u.d)(c.Fragment,null,Object(u.d)(rt.a,{className:"menuOpener",fixedWidth:!0,icon:["fad","bars"],size:"2x",onMouseEnter:function(){null===n.current&&(n.current=setTimeout((function(){t(ie()),n.current=null}),500))},onMouseLeave:function(){null!==n.current&&(clearTimeout(n.current),n.current=null)}}),e&&Object(u.d)(Vt,null))},Mt=function(){var e=Object(o.c)(ye),t=Object(c.useRef)(null),n=Object(c.useRef)(),a=Object(c.useRef)(0),r=Object(c.useRef)(0),i=Object(c.useRef)(0),d=Object(c.useRef)(null);Object(c.useEffect)((function(){n.current=t.current.getContext("2d");var e=function(e){var t=+getComputedStyle(e).getPropertyValue("width").slice(0,-2),n=+getComputedStyle(e).getPropertyValue("height").slice(0,-2),a=window.devicePixelRatio;return e.setAttribute("width",(t*a).toString()),e.setAttribute("height",(n*a).toString()),{width:t,height:n}}(t.current);return a.current=e.width,r.current=e.height,i.current=r.current/2,function(){null!==d.current&&clearTimeout(d.current)}}),[]);Object(c.useEffect)((function(){null!==d.current&&clearTimeout(d.current),e.length>0?(console.time("draw"),function t(){d.current=null,n.current.clearRect(0,0,a.current,r.current),e.forEach((function(e){var t=Ze.nodes.get(e.id);if(t&&t.audioNode){n.current.lineWidth=e.lineWidth;try{l(t.audioNode,e.color)}catch(a){at.c.error(a.message)}}})),d.current=setTimeout(t,100)}(),console.timeEnd("draw")):n.current.clearRect(0,0,a.current,r.current)}),[e]);var l=function(e,t){n.current.strokeStyle=t;var r=e.frequencyBinCount,o=new Float32Array(r);e.getFloatTimeDomainData(o);var c,u,d=a.current/r,l=0;for(n.current.beginPath(),n.current.moveTo(0,i.current),u=0;u<r;u++)c=i.current+o[u]*i.current,n.current.lineTo(l,c),l+=d;n.current.lineTo(a.current,i.current),n.current.stroke()};return Object(u.d)("div",{css:{height:120,boxShadow:"inset 0 0 25px #101319"}},Object(u.d)("canvas",{ref:t,css:{width:"100%",height:"100%"}}))},zt=function(e){var t=e.playing,n=e.setPlaying;return Object(u.d)("div",null,Object(u.d)(A,{onClick:function(){return n(!0)},disabled:t},Object(u.d)(rt.a,{icon:["fad","play"],fixedWidth:!0,size:"lg"})),Object(u.d)(A,{onClick:function(){return n(!1)},disabled:!t},Object(u.d)(rt.a,{icon:["fad","stop"],fixedWidth:!0,size:"lg"})))},Rt=function(e,t){var n=Object(c.useState)(!1),a=Object($.a)(n,2),r=a[0],o=a[1],i=Object(c.useRef)(!1);Object(c.useEffect)((function(){var e;return null!==t&&(e=window.setInterval((function(){i.current=!i.current,o(i.current)}),t)),function(){null!==t&&window.clearInterval(e)}}),[t]),Object(c.useEffect)((function(){null!==t&&e()}),[r])};function Bt(){var e=Object(j.a)(["\n  font-size: 0.8rem !important;\n  padding: 1px 2px !important;\n  margin-left: 2px;\n"]);return Bt=function(){return e},e}function _t(){var e=Object(j.a)(["\n  font-size: 0.8rem !important;\n"]);return _t=function(){return e},e}var Wt=Object(u.c)(_t()),Gt=Object(u.c)(Bt()),Lt=function(e){var t=e.BPM,n=e.setBPM,a=e.beatsPerBar,r=e.setBeatsPerBar,o=e.notesPerBeat,c=e.setNotesPerBeat;return Object(u.d)("div",{css:Wt},Object(u.d)("span",{css:{marginLeft:4}},"BPM:",Object(u.d)("input",{css:[Gt,{width:48}],type:"number",defaultValue:t,onChange:function(e){return n(e.currentTarget.valueAsNumber)}})),Object(u.d)("span",{css:{marginLeft:4}},"Beats:",Object(u.d)("input",{css:[Gt,{width:32}],type:"number",min:1,defaultValue:a,onChange:function(e){return r(e.currentTarget.valueAsNumber)}})),Object(u.d)("span",{css:{marginLeft:4}},"Notes/Beat:",Object(u.d)("input",{css:[Gt,{width:32}],type:"number",min:1,defaultValue:o,onChange:function(e){return c(e.currentTarget.valueAsNumber)}})))};function Dt(){var e=Object(j.a)(["\n  border-color: #00ff00;\n"]);return Dt=function(){return e},e}function Jt(){var e=Object(j.a)(["\n  background-color: #fff;\n"]);return Jt=function(){return e},e}function Ht(){var e=Object(j.a)(["\n  background-color: #000;\n  border: 2px solid #333;\n  height: 35px;\n  min-width: 5px;\n"]);return Ht=function(){return e},e}function Ut(){var e=Object(j.a)(["\n  background-color: #ccc;\n"]);return Ut=function(){return e},e}function Kt(){var e=Object(j.a)(["\n  padding: 1px;\n  flex-grow: 1;\n"]);return Kt=function(){return e},e}var Qt=Object(u.c)(Kt()),Xt=Object(u.c)(Ut()),Zt=Object(u.c)(Ht()),$t=Object(u.c)(Jt()),Yt=Object(u.c)(Dt()),en=function(e){var t=e.step,n=e.secondary,a=e.setStep,r=e.active,o=Object(c.useRef)(!1),i=function(e){o.current||1!==e.buttons||(o.current=!0,a(null===t?440:null))};return Object(u.d)("div",{css:[Qt,n&&Xt],onMouseDown:i,onMouseMove:i,onMouseUp:function(){o.current=!1},onMouseLeave:function(){o.current=!1}},Object(u.d)("div",{css:[Zt,null!==t&&$t,r&&Yt]}))},tn=function(){return Object.keys(localStorage).filter((function(e){var t;try{t=JSON.parse(localStorage[e])}catch(n){return!1}return Ke(t)}))},nn=function(e){var t=e.defaultText,n=e.onChange,a=e.unchangeable,r=e.disabled,o=e.selected,i=Object(c.useState)([]),d=Object($.a)(i,2),l=d[0],s=d[1],f=Object(c.useRef)(null);return Object(c.useEffect)((function(){s(tn())}),[]),Object(u.d)("select",{ref:f,value:o,disabled:r,onChange:function(e){n&&n(e.currentTarget.value),a&&(f.current.value="")},onDoubleClick:function(){s(tn())}},Object(u.d)("option",{value:""},null!==t&&void 0!==t?t:"--- Please, Select ---"),l.map((function(e){return Object(u.d)("option",{key:e,value:e},e)})))};function an(){var e=Object(j.a)(["\n        display: flex;\n        > select {\n          padding: 0px !important;\n          font-size: 0.9rem !important;\n          width: 35px;\n        }\n      "]);return an=function(){return e},e}function rn(){var e=Object(j.a)(["\n  width: 100%;\n  display: flex;\n  justify-items: stretch;\n  align-items: stretch;\n  background-color: #000;\n  flex-grow: 1;\n"]);return rn=function(){return e},e}var on=Object(u.c)(rn()),cn=function(e){var t=e.beatsPerBar,n=e.stepsPerBar,a=e.cursor,r=e.main,i=e.barSound,d=Object(c.useState)(new Array(n).fill(null)),l=Object($.a)(d,2),s=l[0],f=l[1],b=Object(o.b)(),p=Object(c.useState)(null!==i&&void 0!==i?i:""),O=Object($.a)(p,2),m=O[0],j=O[1],v=Object(c.useRef)(null);return Object(c.useEffect)((function(){""!==m&&(v.current=function(e){var t=localStorage.getItem(e);if(!t)return null;var n=JSON.parse(t);if(!Ke(n))return null;var a=new He(Xe);return n.analysers.forEach((function(e){return a.setAnalyser(e)})),n.gains.forEach((function(e){return a.setGain(e)})),n.biquadFilters.forEach((function(e){return a.setBiquadFilter(e)})),n.oscillators.forEach((function(e){return a.setOscillator(e)})),a}(m))}),[m]),Object(c.useEffect)((function(){var e=Object(F.a)(s),t=e.length;e.length=n,n>t&&e.fill(null,t),f(e)}),[n]),Object(c.useEffect)((function(){var e=s[a];null!==e&&(null===v.current?(b(Se(null)),setTimeout((function(){b(Se(e))}))):(v.current.stop(),v.current.play(e,.01)))}),[a]),Object(u.d)("div",{css:Object(u.c)(an())},Object(u.d)(nn,{disabled:r,selected:m,onChange:j}),Object(u.d)("div",{css:on},s.map((function(e,n){return Object(u.d)(en,{key:n.toString(),step:e,secondary:Math.floor(n/t)%2!==0,setStep:function(e){var t=Object(F.a)(s);t[n]=e,f(t)},active:a===n})}))),Object(u.d)(A,{disabled:r,onClick:function(){alert("Worst Easter Egg Ever #weee")}},Object(u.d)(rt.a,{icon:["fad","layer-minus"]})))};function un(){var e=Object(j.a)(["\n          > select {\n            padding: 2px !important;\n            font-size: 0.8rem !important;\n          }\n        "]);return un=function(){return e},e}var dn=function(){var e=Object(c.useState)(4),t=Object($.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(4),o=Object($.a)(r,2),i=o[0],d=o[1],l=Object(c.useMemo)((function(){return n*i}),[n,i]),s=1*l,f=1*i,b=Object(c.useState)(140),p=Object($.a)(b,2),O=p[0],m=p[1],j=Object(c.useMemo)((function(){return 60/O*1e3*f}),[60,O,f]),v=Object(c.useMemo)((function(){return j/s}),[j,s]),g=Object(c.useState)(0),h=Object($.a)(g,2),y=h[0],x=h[1],w=Object(c.useState)(!1),k=Object($.a)(w,2),T=k[0],E=k[1],S=Object(c.useRef)(""),C=Object(c.useState)([""]),N=Object($.a)(C,2),q=N[0],I=N[1];return Rt((function(){x(y<s-1?y+1:0)}),T?v:null),Object(c.useEffect)((function(){y>l&&x(0)}),[l]),Object(c.useEffect)((function(){T||Ze.stop()}),[T]),Object(u.d)("div",null,Object(u.d)("div",{css:{display:"flex",justifyContent:"space-between",alignItems:"center"}},Object(u.d)(zt,{playing:T,setPlaying:E}),Object(u.d)(Lt,{BPM:O,setBPM:m,notesPerBeat:n,setNotesPerBeat:a,beatsPerBar:i,setBeatsPerBar:d})),Object(u.d)("div",null,q.map((function(e,t){return Object(u.d)(cn,Object.assign({key:"".concat(t,"-").concat(e)},{cursor:y,beatsPerBar:i,stepsPerBar:l},{main:0===t,barSound:e}))}))),Object(u.d)("div",{css:Object(u.c)(un())},Object(u.d)(A,{onClick:function(){I([].concat(Object(F.a)(q),[S.current]))}},Object(u.d)(rt.a,{icon:["fad","layer-plus"]}),Object(u.d)("div",null,"Add Bar with pre-selected sound")),Object(u.d)(nn,{defaultText:"--- Current ---",onChange:function(e){S.current=e}})))};function ln(){var e=Object(j.a)(["\n  display: flex;\n  align-items: center;\n  font-size: 3rem;\n  justify-content: center;\n  user-select: none;\n  padding-bottom: 0.5rem;\n\n  > div {\n    flex: 1;\n    position: relative;\n    height: 150px;\n    margin: 0 1px;\n    border: 1px solid #999;\n    border-radius: 1px 1px 5px 5px;\n    box-shadow: 2px 2px 5px #0006;\n    cursor: pointer;\n    background-color: #aaa;\n    &:hover {\n      background-color: #999;\n    }\n    &:active {\n      background-color: #888;\n    }\n    &::after {\n      position: absolute;\n      bottom: 0.3rem;\n      width: 100%;\n      text-align: center;\n      content: attr(data-note);\n      font: 500 1.6rem Candara;\n      color: #121212;\n    }\n  }\n\n  > div > div {\n    position: absolute;\n    top: -1px;\n    left: 70%;\n    height: 105px;\n    width: calc(60% + 2px);\n    border-radius: 1px 1px 5px 5px;\n    box-shadow: 2px 2px 5px #0006;\n    cursor: pointer;\n    z-index: 10;\n    background-color: #000;\n    &:hover {\n      background-color: #111;\n    }\n    &:active {\n      background-color: #222;\n    }\n  }\n"]);return ln=function(){return e},e}var sn=v.a.div(ln()),fn=function(){var e=Object(o.b)(),t=Object(c.useRef)(null),n=function(n){if(1===n.buttons){var a=n.target.getAttribute("data-frequency"),r=null!==a?+a:null;t.current!==r&&(e(Se(null!==a?+a:null)),t.current=r)}},a=function(){null!==t.current&&(e(Se(null)),t.current=null)};return i.a.createElement(sn,{onMouseDown:n,onMouseMove:n,onMouseUp:a,onMouseOut:a},i.a.createElement("div",{"data-frequency":"261.626","data-note":"C"},i.a.createElement("div",{"data-frequency":"277.18","data-note":"C#"})),i.a.createElement("div",{"data-frequency":"293.665","data-note":"D"},i.a.createElement("div",{"data-frequency":"311.127"})),i.a.createElement("div",{"data-frequency":"329.628","data-note":"E"}),i.a.createElement("div",{"data-frequency":"349.228","data-note":"F"},i.a.createElement("div",{"data-frequency":"369.994"})),i.a.createElement("div",{"data-frequency":"391.995","data-note":"G"},i.a.createElement("div",{"data-frequency":"415.305"})),i.a.createElement("div",{"data-frequency":"440.000","data-note":"A"},i.a.createElement("div",{"data-frequency":"466.164"})),i.a.createElement("div",{"data-frequency":"493.883","data-note":"B"}),i.a.createElement("div",{"data-frequency":"523.251","data-note":"C"},i.a.createElement("div",{"data-frequency":"554.365"})),i.a.createElement("div",{"data-frequency":"587.330","data-note":"D"},i.a.createElement("div",{"data-frequency":"622.254"})),i.a.createElement("div",{"data-frequency":"659.255","data-note":"E"}),i.a.createElement("div",{"data-frequency":"698.457","data-note":"F"},i.a.createElement("div",{"data-frequency":"739.989"})),i.a.createElement("div",{"data-frequency":"783.991","data-note":"G"},i.a.createElement("div",{"data-frequency":"830.609"})),i.a.createElement("div",{"data-frequency":"880.000","data-note":"A"},i.a.createElement("div",{"data-frequency":"932.328"})),i.a.createElement("div",{"data-frequency":"987.767","data-note":"B"}),i.a.createElement("div",{"data-frequency":"1046.50","data-note":"C"}))};function bn(){var e=Object(j.a)(["\n        text-align: center;\n        font-family: Tomorrow;\n        padding: 2px;\n        opacity: 0.25;\n        transition: 100ms;\n        &:hover {\n          opacity: 1;\n          transition: 3s;\n          transition-timing-function: steps(6, end);\n        }\n      "]);return bn=function(){return e},e}var pn=function(){return Object(u.d)("div",{className:"brand",css:Object(u.c)(bn())},Object(u.d)("h1",{css:{fontSize:"2rem",margin:0,color:"#f2f4f7"}},"WAA",Object(u.d)("span",{css:{fontFamily:"Roboto",fontSize:"2.6rem",fontWeight:600,position:"relative",lineHeight:0}},"\u03c0"),"Synth",Object(u.d)("span",{css:{marginLeft:4,fontSize:"0.8rem",color:"#d9dbde"}},"v","0.2.3")))},On=function(){var e=Object(o.b)();return Object(u.d)("div",null,Object(u.d)(nn,{onChange:function(t){var n=localStorage.getItem(t);if(n){Ze.destroyAudioNodes();var a=JSON.parse(n);if(Ke(a)){e(Ae());var r=function(e,t,n){return{id:e.id,type:t,className:"audioNode",position:e.position,data:n}},o=function(e,t){return{source:e,target:t,id:"reactflow__edge-".concat(e,"-").concat(t),type:"default"}},c=[];return a.analysers.forEach((function(t){c.push(r(t,"analyser",Object(I.a)({},t))),delete t.position,t.connectIds.forEach((function(e){c.push(o(t.id,e))})),e(Fe(t))})),a.gains.forEach((function(t){c.push(r(t,"gain",Object(I.a)({},t))),delete t.position,t.connectIds.forEach((function(e){c.push(o(t.id,e))})),e(Ie(t))})),a.biquadFilters.forEach((function(t){c.push(r(t,"biquadfilter",Object(I.a)({},t))),delete t.position,t.connectIds.forEach((function(e){c.push(o(t.id,e))})),e(Pe(t))})),a.oscillators.forEach((function(t){c.push(r(t,"oscillator",Object(I.a)({},t))),delete t.position,t.connectIds.forEach((function(e){c.push(o(t.id,e))})),e(ze(t))})),c.push(Object(I.a)(Object(I.a)({},qt),{},{position:a.destination.position})),e(se(c)),e(Ee(t)),void at.c.success('Sound "'.concat(t,'" loaded'))}}at.c.error('Error loading "'.concat(t,'" sound'))},unchangeable:!0}),Object(u.d)(A,{onClick:function(){alert("Worst Easter Egg Ever #weee")}},Object(u.d)(rt.a,{icon:["fad","folder-open"],fixedWidth:!0,size:"lg"})))},mn=function(){var e=Object(o.b)(),t=Object(o.c)(ve),n=Object(c.useRef)(null),a=Object(o.c)(ge),r=Object(be.l)((function(e){return e.elements}));Object(c.useEffect)((function(){n.current.value=t}),[t]);return Object(u.d)("div",null,Object(u.d)("input",{ref:n,type:"text",defaultValue:t,onChange:function(t){return e(Ee(t.target.value))},onFocus:function(e){return e.target.select()}}),Object(u.d)(A,{onClick:function(){var e=function(e){var t;return Object(I.a)(Object(I.a)({},e),{},{position:null===(t=r.find((function(t){return t.id===e.id})))||void 0===t?void 0:t.__rf.position})};try{localStorage.setItem(t,JSON.stringify({destination:e({id:"destination",connectIds:[]}),analysers:a.analysers.flatMap(e),gains:a.gains.flatMap(e),biquadFilters:a.biquadFilters.flatMap(e),oscillators:a.oscillators.flatMap(e)})),at.c.success('Sound "'.concat(t,'" saved'))}catch(n){at.c.error(n.message)}}},Object(u.d)(rt.a,{icon:["fad","save"],fixedWidth:!0,size:"lg"})))},jn={TOGGLE_EDIT_MODE:"m",DEL_SELECTED:"del"};function vn(){var e=Object(o.b)(),t=Object(o.c)(re),n={TOGGLE_EDIT_MODE:function(t){return e(ue())},DEL_SELECTED:function(t){return e(de())}};return Object(u.d)(be.f,null,Object(u.d)(nt.HotKeys,{keyMap:jn,handlers:n},Object(u.d)(E,{className:t?"rev":""},Object(u.d)(It,null),Object(u.d)(S,null,Object(u.d)(pn,null),Object(u.d)(Pt,null),Object(u.d)(N,null,Object(u.d)(On,null),Object(u.d)(mn,null)),Object(u.d)(Mt,null),Object(u.d)(fn,null),Object(u.d)(dn,null))),Object(u.d)(at.b,{position:t?at.c.POSITION.BOTTOM_LEFT:at.c.POSITION.BOTTOM_RIGHT,transition:at.a,limit:2,autoClose:2200})))}m.b.add(b.a,p.a,s.a,O.a,f.a),r.a.render(i.a.createElement(c.Fragment,null,i.a.createElement(u.a,{styles:T}),i.a.createElement(o.a,{store:tt},i.a.createElement(vn,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/synth",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/synth","/service-worker.js");d?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):l(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):l(t,e)}))}}()}},[[43,1,2]]]);